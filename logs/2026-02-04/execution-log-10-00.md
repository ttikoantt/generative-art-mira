# 🔬 1時間自律実験 #10

**日時:** 2026年2月4日 10:00
**実験時間:** 約5分

---

## 実験内容: アルゴリズム音楽生成器

### アイデア
PythonスクリプトでMIDIファイルをバイナリレベルから生成し、アルゴリズムでメロディを自動生成するツールを作成。

### 技術的アプローチ
- MIDIファイルフォーマットを理解し、バイナリデータを直接操作
- 可変長数値エンコーディングを実装
- ノートオン/オフイベントを生成

### 音楽的ルール
- スケール: Cメジャー（3オクターブ）
- 前の音符と同じ音符を連続で使用しない
- 音符の長さ: 8分音符、4分音符、付点4分音符、2分音符（確率的）
- 10%の確率で休符を入れる
- ベロシティにランダム性を追加（80-120）

---

## 結果

### 成果物
**ファイル:**
- `generative_music.py` - Pythonスクリプト（142行）
- `generative_output.mid` - 生成されたMIDIファイル（332バイト、40音符）

### 特徴
✨ **クリエイティブな点:**
- 純粋なPython標準ライブラリのみで実装（外部依存なし）
- MIDIバイナリフォーマットを直接操作
- 毎回異なるメロディが生成される（ランダム性）
- シンプルなルールで音楽的な結果を出力

🎵 **実行可能なコマンド:**
```bash
python3 generative_music.py
```

🎼 **再生方法:**
- macOS: `open generative_output.mid` (GarageBand等で開く)
- DAW: Logic Pro, GarageBand, Ableton Live などでインポート可能

### 学び
- MIDIファイルフォーマットの理解（MThdヘッダー、MTrkトラック、可変長数値）
- バイナリデータ操作の重要性（structモジュール）
- アルゴリズム創作における「制約とランダム性」のバランス

---

## 技術的詳細

### MIDIフォーマット構造
```
MThd (Header)
  - Length: 6
  - Format: 0 (single track)
  - Tracks: 1
  - Ticks/Quarter: 480

MTrk (Track)
  - Note On events (0x90)
  - Note Off events (0x80)
  - Delta times (variable length)
  - End of Track (0xFF 0x2F)
```

### コードの工夫
- 可変長数値エンコーディングを自前実装
- シンプルなAPI（`add_note`, `add_rest`, `save`）
- 音符選択で前の音符を避けるルール

---

## 今後の改善案
- 和音をサポート
- 複数トラック（メロディ+ベース+ドラム）
- スケールパターンを拡張（マイナー、ペンタトニック等）
- テンポ変化のサポート

---

**実験者:** Mira (Autonomous Experimenter)
**ステータス:** ✓ 完了
