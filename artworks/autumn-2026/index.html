<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Áßã„ÅÆËêΩËëâ - Autumn Falling Leaves</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            overflow: hidden;
            background: linear-gradient(to bottom, #1a0a00 0%, #3d1c02 50%, #5c2e0a 100%);
            font-family: 'Helvetica Neue', sans-serif;
        }
        
        canvas {
            display: block;
            position: absolute;
            top: 0;
            left: 0;
        }
        
        #mainCanvas {
            z-index: 1;
        }
        
        #title {
            position: absolute;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 10;
            text-align: center;
            pointer-events: none;
        }
        
        #title h1 {
            color: #ff6b35;
            font-size: 2.5rem;
            text-shadow: 0 0 20px rgba(255, 107, 53, 0.5);
            margin-bottom: 5px;
        }
        
        #title p {
            color: #d4a574;
            font-size: 0.9rem;
            opacity: 0.8;
        }
        
        #info {
            position: absolute;
            bottom: 20px;
            right: 20px;
            z-index: 10;
            color: #d4a574;
            font-size: 0.8rem;
            opacity: 0.6;
            text-align: right;
        }
        
        #fullscreenBtn {
            position: absolute;
            top: 20px;
            right: 20px;
            z-index: 20;
            background: rgba(255, 107, 53, 0.3);
            border: 1px solid rgba(255, 107, 53, 0.5);
            color: #ff6b35;
            padding: 10px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.3s ease;
        }
        
        #fullscreenBtn:hover {
            background: rgba(255, 107, 53, 0.5);
            transform: scale(1.05);
        }
        
        @media (max-width: 768px) {
            #title h1 {
                font-size: 1.8rem;
            }
            #title p {
                font-size: 0.75rem;
            }
            #fullscreenBtn {
                padding: 8px 12px;
                font-size: 0.8rem;
            }
        }
    </style>
</head>
<body>
    <canvas id="mainCanvas"></canvas>
    
    <div id="title">
        <h1>üçÇ Áßã„ÅÆËêΩËëâ</h1>
        <p>Autumn Falling Leaves</p>
    </div>
    
    <button id="fullscreenBtn">ÂÖ®ÁîªÈù¢</button>
    
    <div id="info">
        <p>„Çø„ÉÉ„Éó/„ÇØ„É™„ÉÉ„ÇØ„ÅßÈ¢®„ÇíËµ∑„Åì„Åô</p>
    </div>
    
    <script>
        const canvas = document.getElementById('mainCanvas');
        const ctx = canvas.getContext('2d');
        
        let width = canvas.width = window.innerWidth;
        let height = canvas.height = window.innerHeight;
        
        // ËêΩËëâ„ÅÆËâ≤ÔºàÁßãËâ≤Ôºâ
        const leafColors = [
            { base: '#ff6b35', light: '#ff8c5a', dark: '#cc5528' },
            { base: '#f7931e', light: '#ffb54d', dark: '#c97618' },
            { base: '#ffd23f', light: '#ffe066', dark: '#cca832' },
            { base: '#c44536', light: '#e15a4a', dark: '#9d372b' },
            { base: '#8b4513', light: '#b55c1d', dark: '#6f370f' },
            { base: '#d4a574', light: '#e6c49b', dark: '#a9845d' }
        ];
        
        // ËêΩËëâ„ÇØ„É©„Çπ
        class Leaf {
            constructor() {
                this.reset();
            }
            
            reset() {
                this.x = Math.random() * width;
                this.y = -50 - Math.random() * 200;
                this.size = 8 + Math.random() * 15;
                this.speedY = 0.5 + Math.random() * 1.5;
                this.speedX = 0;
                this.rotation = Math.random() * Math.PI * 2;
                this.rotationSpeed = (Math.random() - 0.5) * 0.05;
                this.swayAmplitude = 0.5 + Math.random() * 1.5;
                this.swaySpeed = 0.01 + Math.random() * 0.02;
                this.swayPhase = Math.random() * Math.PI * 2;
                this.color = leafColors[Math.floor(Math.random() * leafColors.length)];
                this.type = Math.floor(Math.random() * 4); // Ëëâ„ÅÆÂΩ¢
                this.windX = 0;
                this.windY = 0;
                this.opacity = 0.85 + Math.random() * 0.15;
            }
            
            update(time) {
                // È¢®„ÅÆÂΩ±Èüø„ÇíÊ∏õË°∞
                this.windX *= 0.98;
                this.windY *= 0.98;
                
                // Â∑¶Âè≥„Å´Êè∫„Çå„Å™„Åå„ÇâËêΩ„Å°„Çã
                const sway = Math.sin(time * this.swaySpeed + this.swayPhase) * this.swayAmplitude;
                
                this.x += this.speedX + sway + this.windX;
                this.y += this.speedY + this.windY;
                this.rotation += this.rotationSpeed;
                
                // ÁîªÈù¢Â§ñ„Å´Âá∫„Åü„Çâ„É™„Çª„ÉÉ„Éà
                if (this.y > height + 50 || this.x < -100 || this.x > width + 100) {
                    this.reset();
                }
            }
            
            draw() {
                ctx.save();
                ctx.translate(this.x, this.y);
                ctx.rotate(this.rotation);
                ctx.globalAlpha = this.opacity;
                
                // Ëëâ„ÅÆÂΩ¢„ÇíÊèèÁîª
                ctx.beginPath();
                
                switch(this.type) {
                    case 0: // ‰∏ÄËà¨ÁöÑ„Å™Ëëâ„ÅÆÂΩ¢
                        this.drawLeafShape();
                        break;
                    case 1: // Ê•ïÂÜÜÂΩ¢
                        this.drawOvalLeaf();
                        break;
                    case 2: // „Ç´„Ç®„Éá„ÅÆËëâ
                        this.drawMapleLeaf();
                        break;
                    case 3: // ‰∏âËßíÂΩ¢
                        this.drawTriangleLeaf();
                        break;
                }
                
                // „Ç∞„É©„Éá„Éº„Ç∑„Éß„É≥
                const gradient = ctx.createRadialGradient(0, 0, 0, 0, 0, this.size);
                gradient.addColorStop(0, this.color.light);
                gradient.addColorStop(0.5, this.color.base);
                gradient.addColorStop(1, this.color.dark);
                
                ctx.fillStyle = gradient;
                ctx.fill();
                
                // ËëâËÑà
                ctx.strokeStyle = this.color.dark;
                ctx.lineWidth = 0.5;
                ctx.stroke();
                
                ctx.restore();
            }
            
            drawLeafShape() {
                ctx.moveTo(0, -this.size);
                ctx.bezierCurveTo(
                    this.size * 0.6, -this.size * 0.5,
                    this.size * 0.6, this.size * 0.5,
                    0, this.size
                );
                ctx.bezierCurveTo(
                    -this.size * 0.6, this.size * 0.5,
                    -this.size * 0.6, -this.size * 0.5,
                    0, -this.size
                );
                
                // ‰∏≠Â§Æ„ÅÆËëâËÑà
                ctx.moveTo(0, -this.size * 0.8);
                ctx.lineTo(0, this.size * 0.8);
            }
            
            drawOvalLeaf() {
                ctx.ellipse(0, 0, this.size * 0.5, this.size, 0, 0, Math.PI * 2);
                ctx.moveTo(0, -this.size * 0.8);
                ctx.lineTo(0, this.size * 0.8);
            }
            
            drawMapleLeaf() {
                ctx.moveTo(0, -this.size);
                for (let i = 0; i < 5; i++) {
                    const angle = (i * Math.PI * 2) / 5 - Math.PI / 2;
                    const x = Math.cos(angle) * this.size;
                    const y = Math.sin(angle) * this.size;
                    ctx.lineTo(x, y);
                    ctx.lineTo(0, 0);
                }
                ctx.closePath();
            }
            
            drawTriangleLeaf() {
                ctx.moveTo(0, -this.size);
                ctx.lineTo(this.size * 0.6, this.size);
                ctx.lineTo(-this.size * 0.6, this.size);
                ctx.closePath();
                ctx.moveTo(0, -this.size * 0.7);
                ctx.lineTo(0, this.size * 0.7);
            }
        }
        
        // ËêΩËëâ„Çí‰ΩúÊàê
        const leaves = [];
        const leafCount = 60;
        
        for (let i = 0; i < leafCount; i++) {
            const leaf = new Leaf();
            leaf.y = Math.random() * height;
            leaves.push(leaf);
        }
        
        // „Çø„ÉÉ„Éó/„ÇØ„É™„ÉÉ„ÇØ„ÅßÈ¢®„ÇíËµ∑„Åì„Åô
        function createWind(x, y) {
            const windStrength = 8;
            
            leaves.forEach(leaf => {
                const dx = leaf.x - x;
                const dy = leaf.y - y;
                const distance = Math.sqrt(dx * dx + dy * dy);
                
                if (distance < 300) {
                    const force = (1 - distance / 300) * windStrength;
                    const angle = Math.atan2(dy, dx);
                    leaf.windX += Math.cos(angle) * force;
                    leaf.windY += Math.sin(angle) * force * 0.5;
                    leaf.rotationSpeed += (Math.random() - 0.5) * 0.1;
                }
            });
        }
        
        canvas.addEventListener('click', (e) => {
            createWind(e.clientX, e.clientY);
        });
        
        canvas.addEventListener('touchstart', (e) => {
            e.preventDefault();
            const touch = e.touches[0];
            createWind(touch.clientX, touch.clientY);
        });
        
        // ÂÖ®ÁîªÈù¢„Éú„Çø„É≥
        const fullscreenBtn = document.getElementById('fullscreenBtn');
        fullscreenBtn.addEventListener('click', () => {
            if (!document.fullscreenElement) {
                document.documentElement.requestFullscreen();
                fullscreenBtn.textContent = 'ÂÖÉ„Å´Êàª„Åô';
            } else {
                document.exitFullscreen();
                fullscreenBtn.textContent = 'ÂÖ®ÁîªÈù¢';
            }
        });
        
        // ËÉåÊôØ„ÅÆÊú®„ÄÖ„ÇíÊèèÁîª
        function drawBackground() {
            // ÈÅ†„Åè„ÅÆÊú®„ÄÖ„ÅÆ„Ç∑„É´„Ç®„ÉÉ„Éà
            ctx.fillStyle = '#0a0500';
            
            const treePositions = [0.1, 0.3, 0.7, 0.9];
            treePositions.forEach(pos => {
                const x = width * pos;
                const baseY = height;
                const treeHeight = height * 0.6;
                const trunkWidth = 20;
                
                // Âππ
                ctx.fillRect(x - trunkWidth / 2, baseY - treeHeight * 0.3, trunkWidth, treeHeight * 0.3);
                
                // Ê®πÂÜ†
                ctx.beginPath();
                ctx.arc(x, baseY - treeHeight * 0.5, treeHeight * 0.4, 0, Math.PI * 2);
                ctx.fill();
                ctx.beginPath();
                ctx.arc(x - treeHeight * 0.2, baseY - treeHeight * 0.4, treeHeight * 0.25, 0, Math.PI * 2);
                ctx.fill();
                ctx.beginPath();
                ctx.arc(x + treeHeight * 0.2, baseY - treeHeight * 0.45, treeHeight * 0.3, 0, Math.PI * 2);
                ctx.fill();
            });
        }
        
        // „Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥„É´„Éº„Éó
        let time = 0;
        
        function animate() {
            time++;
            
            // „ÇØ„É™„Ç¢
            ctx.fillStyle = 'rgba(26, 10, 0, 0.1)';
            ctx.fillRect(0, 0, width, height);
            
            if (time % 60 === 0) {
                ctx.clearRect(0, 0, width, height);
                drawBackground();
            }
            
            // ÊúÄÂàù„ÅÆ„Éï„É¨„Éº„É†„ÅßËÉåÊôØ„ÇíÊèèÁîª
            if (time === 1) {
                drawBackground();
            }
            
            // ËêΩËëâ„ÇíÊõ¥Êñ∞„ÉªÊèèÁîª
            leaves.forEach(leaf => {
                leaf.update(time);
                leaf.draw();
            });
            
            requestAnimationFrame(animate);
        }
        
        // „É™„Çµ„Ç§„Ç∫ÂØæÂøú
        window.addEventListener('resize', () => {
            width = canvas.width = window.innerWidth;
            height = canvas.height = window.innerHeight;
        });
        
        // ÈñãÂßã
        animate();
    </script>
</body>
</html>