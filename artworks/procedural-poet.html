<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Procedural Poet - ãƒ—ãƒ­ã‚·ãƒ¼ã‚¸ãƒ£ãƒ«è©©ç”Ÿæˆå™¨</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Serif+JP:wght@300;400;700&family=Zen+Maru+Gothic:wght@300;400;700&display=swap');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            min-height: 100vh;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-family: 'Noto Serif JP', serif;
            overflow-x: hidden;
        }

        .container {
            max-width: 700px;
            width: 90%;
            padding: 40px;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 20px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }

        h1 {
            font-family: 'Zen Maru Gothic', sans-serif;
            color: #e0e0e0;
            text-align: center;
            margin-bottom: 30px;
            font-size: 1.8rem;
            letter-spacing: 0.3em;
        }

        .theme-badge {
            display: inline-block;
            padding: 6px 16px;
            background: linear-gradient(135deg, rgba(255, 182, 193, 0.3), rgba(173, 216, 230, 0.3));
            border-radius: 20px;
            color: #ffffff;
            font-size: 0.85rem;
            margin: 0 auto 30px;
            display: block;
            text-align: center;
            font-family: 'Zen Maru Gothic', sans-serif;
        }

        .poem {
            color: #f0f0f0;
            line-height: 2.2;
            font-size: 1.15rem;
            text-align: center;
            white-space: pre-line;
            margin-bottom: 30px;
            min-height: 200px;
        }

        .poem-line {
            opacity: 0;
            transform: translateY(10px);
            animation: fadeInUp 0.8s ease forwards;
        }

        @keyframes fadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
        }

        button {
            padding: 12px 28px;
            font-size: 1rem;
            border: none;
            border-radius: 30px;
            cursor: pointer;
            font-family: 'Zen Maru Gothic', sans-serif;
            transition: all 0.3s ease;
        }

        .generate-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        }

        .generate-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.6);
        }

        .copy-btn {
            background: rgba(255, 255, 255, 0.1);
            color: #e0e0e0;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .copy-btn:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .footer {
            margin-top: 30px;
            text-align: center;
            color: rgba(255, 255, 255, 0.4);
            font-size: 0.8rem;
            font-family: 'Zen Maru Gothic', sans-serif;
        }

        /* èƒŒæ™¯ã®æµ®éŠãƒ‘ãƒ¼ãƒ†ã‚£ã‚¯ãƒ« */
        .particle {
            position: fixed;
            width: 4px;
            height: 4px;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            pointer-events: none;
            animation: float 15s infinite ease-in-out;
        }

        @keyframes float {
            0%, 100% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                transform: translateY(-100vh) rotate(720deg);
                opacity: 0;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ãƒ—ãƒ­ã‚·ãƒ¼ã‚¸ãƒ£ãƒ«è©©ç”Ÿæˆå™¨</h1>
        <div class="theme-badge" id="theme">ãƒ†ãƒ¼ãƒ: èª­ã¿è¾¼ã¿ä¸­...</div>
        <div class="poem" id="poem"></div>
        <div class="controls">
            <button class="generate-btn" onclick="generatePoem()">âœ¨ æ–°ã—ã„è©©ã‚’ç”Ÿæˆ</button>
            <button class="copy-btn" onclick="copyPoem()">ğŸ“‹ ã‚³ãƒ”ãƒ¼</button>
        </div>
        <div class="footer">Generated by Mira â€¢ Each poem is unique</div>
    </div>

    <script>
        // è©©ã®ç´ æ
        const materials = {
            themes: [
                { name: 'è‡ªç„¶', emoji: 'ğŸŒ¿', color: '#4ade80' },
                { name: 'æ„›', emoji: 'ğŸ’•', color: '#f472b6' },
                { name: 'æ™‚é–“', emoji: 'â³', color: '#a78bfa' },
                { name: 'å…‰', emoji: 'âœ¨', color: '#fbbf24' },
                { name: 'æµ·', emoji: 'ğŸŒŠ', color: '#60a5fa' },
                { name: 'å¤œ', emoji: 'ğŸŒ™', color: '#818cf8' },
                { name: 'é¢¨', emoji: 'ğŸƒ', color: '#34d399' },
                { name: 'å¤¢', emoji: 'ğŸ’«', color: '#c084fc' },
                { name: 'å­¤ç‹¬', emoji: 'ğŸŒ‘', color: '#6b7280' },
                { name: 'å¸Œæœ›', emoji: 'ğŸŒ…', color: '#fb923c' }
            ],
            subjects: [
                'æœéœ²', 'æ˜Ÿå±‘', 'æ™‚ã®æµã‚Œ', 'é™å¯‚', 'é ã„è¨˜æ†¶',
                'é¢¨ã®ã•ã•ã‚„ã', 'å…‰ã®ç²’å­', 'å½±ã®è¸Šã‚Š', 'å¿ƒã®æ·±æ·µ', 'ç©ºã®å½¼æ–¹',
                'æ³¢ã®ãƒªã‚ºãƒ ', 'æœˆã®å…‰', 'å¤œã®å¸³', 'å¤¢ã®è·¡', 'å‘½ã®æ¯å¹',
                'å­£ç¯€ã®ç§»ã‚ã„', 'ç¬ãã®é–“', 'æ°¸é ã®ç´„æŸ', 'ã‹ã‘ãŒãˆã®ãªã„ä»Š', 'æ˜æ—¥ã®äºˆæ„Ÿ'
            ],
            verbs: [
                'èˆã„è½ã¡ã‚‹', 'æº¶ã‘ã¦ã„ã', 'èªã‚Šã‹ã‘ã‚‹', 'é™ã‹ã«æºã‚Œã‚‹', 'æ¶ˆãˆã¦ã„ã',
                'è¼ãç¶šã‘ã‚‹', 'æŸ“ã¿æ¸¡ã‚‹', 'åˆ»ã¾ã‚Œã‚‹', 'æµ®ã‹ã³ä¸ŠãŒã‚‹', 'é£²ã¿è¾¼ã¾ã‚Œã‚‹',
                'æŠ±ãã—ã‚ã‚‹', 'è§£ãæ”¾ã¤', 'é‡ãªã‚Šåˆã†', 'æ—…ç«‹ã¤', 'é‚„ã‚‹',
                'å’²ãèª‡ã‚‹', 'éœ‡ãˆã‚‹', 'æµã‚Œã‚‹', 'æ¯ã¥ã', 'ç¹‹ãŒã‚‹'
            ],
            modifiers: [
                'é™ã‹ã«', 'å„ªã—ã', 'å¼·ã', 'å„šã', 'æ°¸é ã«',
                'æ·¡ã', 'é®®ã‚„ã‹ã«', 'ç¥ç§˜ã‚ã„ã¦', 'é™å¯‚ã®ä¸­ã§', 'å…‰ã®ä¸­ã§',
                'é¢¨ã«ä¹—ã›ã¦', 'æ™‚ã‚’è¶…ãˆã¦', 'å¤¢è¦‹ã‚‹ã‚ˆã†ã«', 'é™ã‚Šãªã', 'ç¢ºã‹ãªã‚‚ã®ã¨ã—ã¦'
            ],
            endings: [
                'ãã®ã¾ã¾ã«', 'ã‚ã¦ã©ãªã', 'é™ã‹ã«', 'æºã‚ŒãªãŒã‚‰', 'æ¶ˆãˆãšã«',
                'é™å¯‚ã®ä¸­ã¸', 'å…‰ã®ä¸­ã¸', 'é¢¨ã¨å…±ã«', 'æ™‚ã‚’è¶…ãˆã¦', 'å¤¢ã®ä¸­ã¸',
                'ä»Šã®ã¾ã¾ã«', 'æ°¸é ã«', 'å„ªã—ã', 'ç¢ºã‹ãªã‚‚ã®ã¨ã—ã¦', 'å„šãã‚‚ç¾ã—ã'
            ]
        };

        // è©©ã®ãƒ‘ã‚¿ãƒ¼ãƒ³
        const patterns = [
            // çŸ­æ­Œã‚¹ã‚¿ã‚¤ãƒ« (5-7-5-7-7)
            (s, v, m, e) => [
                `${m}${s}`,
                `${s}${v}`,
                `${s}${m}`,
                `${v}${s}`,
                `${s}${e}`
            ],
            // è‡ªç”±è©©ã‚¹ã‚¿ã‚¤ãƒ«
            (s, v, m, e) => [
                `${s}ãŒ${v}`,
                `${m}ã€${s}`,
                `${v}ãã®ã¾ã¾ã«`,
                `${m}${s}ãŒ${e}`,
                `${e}`
            ],
            // é€£æƒ³ã‚¹ã‚¿ã‚¤ãƒ«
            (s, v, m, e) => [
                `${s}ã‹ã‚‰å§‹ã¾ã‚‹`,
                `${v}ãƒªã‚ºãƒ `,
                `${m}æ„Ÿã˜ãªãŒã‚‰`,
                `${s}ã¸ã®æƒ³ã„`,
                `${e}ç¶šã`
            ],
            // å¯¾å¥ã‚¹ã‚¿ã‚¤ãƒ«
            (s, v, m, e) => [
                `${s}ãŒ${v}ã¨ã`,
                `${s}ãŒ${m}${v}`,
                `${m}ã€${s}`,
                `${v}ã€${v}`,
                `${e}`
            ]
        ];

        let currentPoem = '';

        function randomChoice(arr) {
            return arr[Math.floor(Math.random() * arr.length)];
        }

        function generatePoem() {
            // ãƒ†ãƒ¼ãƒã‚’é¸æŠ
            const theme = randomChoice(materials.themes);
            document.getElementById('theme').textContent = `${theme.emoji} ãƒ†ãƒ¼ãƒ: ${theme.name}`;
            document.getElementById('theme').style.background = `linear-gradient(135deg, ${theme.color}33, ${theme.color}44)`;

            // ç´ æã‚’ãƒ©ãƒ³ãƒ€ãƒ ã«é¸æŠ
            const subject1 = randomChoice(materials.subjects);
            const subject2 = randomChoice(materials.subjects);
            const verb1 = randomChoice(materials.verbs);
            const verb2 = randomChoice(materials.verbs);
            const modifier = randomChoice(materials.modifiers);
            const ending = randomChoice(materials.endings);

            // ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’é¸æŠã—ã¦è©©ã‚’ç”Ÿæˆ
            const pattern = randomChoice(patterns);
            const lines = pattern(subject1, verb1, modifier, ending);

            // è©©ã‚’è¡¨ç¤º
            const poemEl = document.getElementById('poem');
            poemEl.innerHTML = '';

            lines.forEach((line, i) => {
                const lineEl = document.createElement('div');
                lineEl.className = 'poem-line';
                lineEl.style.animationDelay = `${i * 0.15}s`;
                lineEl.textContent = line;
                poemEl.appendChild(lineEl);
            });

            currentPoem = lines.join('\n');
        }

        function copyPoem() {
            const theme = document.getElementById('theme').textContent;
            const text = `${theme}\n\n${currentPoem}\n\nâ€” Generated by Mira`;
            navigator.clipboard.writeText(text).then(() => {
                alert('è©©ã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼');
            });
        }

        // èƒŒæ™¯ãƒ‘ãƒ¼ãƒ†ã‚£ã‚¯ãƒ«ã‚’ç”Ÿæˆ
        function createParticles() {
            for (let i = 0; i < 20; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = `${Math.random() * 100}vw`;
                particle.style.animationDelay = `${Math.random() * 15}s`;
                particle.style.animationDuration = `${10 + Math.random() * 10}s`;
                document.body.appendChild(particle);
            }
        }

        // åˆæœŸåŒ–
        createParticles();
        generatePoem();
    </script>
</body>
</html>
