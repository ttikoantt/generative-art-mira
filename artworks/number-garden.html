<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Number Garden - Generative Art Collection</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #0a0a0a 0%, #1a0a2e 100%);
            color: #fff;
            overflow-x: hidden;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
        }

        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .subtitle {
            color: rgba(255, 255, 255, 0.7);
            margin-bottom: 30px;
        }

        .controls {
            display: flex;
            gap: 15px;
            margin-bottom: 30px;
            flex-wrap: wrap;
            justify-content: center;
        }

        button {
            padding: 15px 30px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: #fff;
            border: none;
            border-radius: 25px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
        }

        button:active {
            transform: translateY(0);
        }

        .info {
            text-align: center;
            max-width: 800px;
            margin-bottom: 30px;
            line-height: 1.6;
        }

        .garden {
            width: 100%;
            max-width: 900px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 30px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            min-height: 400px;
            position: relative;
        }

        .flower {
            display: inline-block;
            margin: 15px;
            padding: 20px;
            border-radius: 15px;
            background: rgba(102, 126, 234, 0.1);
            border: 2px solid rgba(102, 126, 234, 0.3);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .flower:hover {
            transform: scale(1.1);
            background: rgba(102, 126, 234, 0.2);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .flower-icon {
            font-size: 2rem;
            margin-bottom: 10px;
        }

        .flower-number {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 5px;
        }

        .flower-petals {
            font-size: 0.8rem;
            opacity: 0.7;
        }

        .golden-ratio {
            text-align: center;
            padding: 20px;
            background: rgba(102, 126, 234, 0.1);
            border-radius: 15px;
            margin-top: 30px;
            border: 1px solid rgba(102, 126, 234, 0.3);
        }

        .golden-ratio h3 {
            margin-bottom: 15px;
            font-size: 1.3rem;
        }

        .ratio-value {
            font-size: 2.5rem;
            font-weight: 700;
            background: linear-gradient(45deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .ratio-phi {
            font-size: 1.2rem;
            opacity: 0.7;
            margin-top: 10px;
        }

        .back-link {
            margin-top: 40px;
            color: #667eea;
            text-decoration: none;
            font-weight: 600;
            transition: color 0.3s ease;
        }

        .back-link:hover {
            color: #764ba2;
        }
    </style>
</head>
<body>
    <h1>ğŸŒ» Number Garden</h1>
    <p class="subtitle">æ•°å­—ã®èŠ±åœ’ - ãƒ•ã‚£ãƒœãƒŠãƒƒãƒæ•°åˆ—ã®ç¾ã—ã•</p>

    <div class="info">
        <p>ãƒ•ã‚£ãƒœãƒŠãƒƒãƒæ•°åˆ—ï¼ˆ0, 1, 1, 2, 3, 5, 8, 13...ï¼‰ã‚’ç¾ã—ãè¦–è¦šåŒ–ã—ã¾ã™ã€‚</p>
        <p>è‡ªç„¶ç•Œã«è¦‹ã‚‰ã‚Œã‚‹é»„é‡‘æ¯”ã®ç¥ç§˜ã‚’ã€æ•°å­—ã®èŠ±ã§è¡¨ç¾ã—ã¾ã™ã€‚</p>
    </div>

    <div class="controls">
        <button id="regenerateBtn">ğŸ”„ æ–°ã—ã„åº­ã‚’ä½œã‚‹</button>
    </div>

    <div class="garden" id="garden"></div>

    <div class="golden-ratio">
        <h3>é»„é‡‘æ¯”ã®è¿‘ä¼¼å€¤</h3>
        <div class="ratio-value" id="ratio-value">1.618033988</div>
        <div class="ratio-phi">Ï† = 1.618033988749... (è‡ªç„¶ç•Œã®é»„é‡‘æ¯”)</div>
    </div>

    <a href="../index.html" class="back-link">â† æˆ»ã‚‹</a>

    <script>
        // è‰²ã®ã‚»ãƒƒãƒˆ
        const COLORS = [
            '#ff6b6b',  // Red
            '#4ecdc4',  // Teal
            '#ffe66d',  // Yellow
            '#95e1d3',  // Mint
            '#f38181',  // Coral
            '#aa96da',  // Purple
            '#fcbad3',  // Pink
            '#a8d8ea',  // Sky
            '#ff9a8b',  // Peach
            '#88d8b0',  // Green
        ];

        // èŠ±ã®ã‚¢ã‚¤ã‚³ãƒ³
        const FLOWERS = ['ğŸŒ¸', 'ğŸŒº', 'ğŸŒ»', 'ğŸŒ¼', 'ğŸ’®', 'âœ¿', 'â€', 'âœ¾', 'ğŸŒ·', 'ğŸŒ¹'];

        // ãƒ•ã‚£ãƒœãƒŠãƒƒãƒæ•°åˆ—ã‚’ç”Ÿæˆ
        function fibonacciSequence(n) {
            const seq = [0, 1];
            for (let i = 2; i < n; i++) {
                seq.push(seq[i-1] + seq[i-2]);
            }
            return seq.slice(1, n + 1);
        }

        // æ•°å­—ã‚’ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
        function formatNumber(num) {
            if (num < 10) {
                return { icon: 'âœ¿', petals: 1 };
            } else if (num < 100) {
                return { icon: 'â€', petals: 2 };
            } else if (num < 1000) {
                return { icon: 'âœ¾', petals: 3 };
            } else {
                const petals = Math.min(Math.floor(Math.log10(num)), 8);
                const petalStr = 'âœ¿'.repeat(petals);
                return { icon: petalStr, petals: petals };
            }
        }

        // åº­ã‚’ä½œæˆ
        function createGarden(n = 15) {
            const garden = document.getElementById('garden');
            garden.innerHTML = '';

            const fib = fibonacciSequence(n);
            const ratioDiv = document.getElementById('ratio-value');

            // å„æ•°å­—ã‚’èŠ±ã¨ã—ã¦è¡¨ç¤º
            fib.slice(0, -1).forEach((num, index) => {
                const flower = document.createElement('div');
                flower.className = 'flower';

                const color = COLORS[index % COLORS.length];
                const flowerInfo = formatNumber(num);
                const flowerIcon = FLOWERS[index % FLOWERS.length];

                flower.style.borderColor = color;
                flower.style.backgroundColor = color + '20';

                flower.innerHTML = `
                    <div class="flower-icon" style="color: ${color}">${flowerIcon}</div>
                    <div class="flower-number" style="color: ${color}">${num}</div>
                    <div class="flower-petals" style="color: ${color}">
                        ${typeof flowerInfo.icon === 'string' && flowerInfo.icon.length > 2
                            ? `${flowerInfo.icon.length} èŠ±å¼`
                            : `${flowerInfo.petals} èŠ±å¼`}
                    </div>
                `;

                garden.appendChild(flower);

                // é…å»¶ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
                flower.style.opacity = '0';
                flower.style.transform = 'scale(0)';
                setTimeout(() => {
                    flower.style.transition = 'all 0.5s ease';
                    flower.style.opacity = '1';
                    flower.style.transform = 'scale(1)';
                }, index * 100);
            });

            // é»„é‡‘æ¯”ã®è¨ˆç®—
            if (fib.length >= 3) {
                const ratio = fib[fib.length - 1] / fib[fib.length - 2];
                ratioDiv.textContent = ratio.toFixed(9);
            }
        }

        // ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼
        document.getElementById('regenerateBtn').addEventListener('click', () => {
            createGarden(Math.floor(Math.random() * 10) + 10);
        });

        // åˆæœŸåŒ–
        createGarden(15);
    </script>
</body>
</html>
