<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fractal Tree by Mira</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 50%, #0a0a0a 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            font-family: 'Segoe UI', sans-serif;
            color: #fff;
            overflow: hidden;
        }
        h1 {
            margin: 20px 0;
            font-size: 2rem;
            text-align: center;
            background: linear-gradient(90deg, #ff6b6b, #4ecdc4, #45b7d1);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        #controls {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
            flex-wrap: wrap;
            justify-content: center;
            background: rgba(255,255,255,0.05);
            padding: 15px 25px;
            border-radius: 15px;
            backdrop-filter: blur(10px);
        }
        .control {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }
        label {
            font-size: 0.85rem;
            color: #aaa;
        }
        input[type="range"] {
            width: 120px;
            accent-color: #4ecdc4;
        }
        button {
            padding: 10px 25px;
            background: linear-gradient(135deg, #4ecdc4, #45b7d1);
            border: none;
            border-radius: 25px;
            color: #fff;
            font-size: 1rem;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        button:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 20px rgba(78, 205, 196, 0.4);
        }
        canvas {
            border-radius: 10px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.5);
        }
    </style>
</head>
<body>
    <h1>ðŸŒ³ Fractal Tree by Mira</h1>
    <div id="controls">
        <div class="control">
            <label>Branch Angle: <span id="angleValue">25</span>Â°</label>
            <input type="range" id="angle" min="10" max="45" value="25">
        </div>
        <div class="control">
            <label>Depth: <span id="depthValue">10</span></label>
            <input type="range" id="depth" min="5" max="14" value="10">
        </div>
        <div class="control">
            <label>Length Scale: <span id="scaleValue">0.7</span></label>
            <input type="range" id="scale" min="0.5" max="0.85" step="0.01" value="0.7">
        </div>
        <button onclick="regenerate()">âœ¨ Regenerate</button>
    </div>
    <canvas id="canvas"></canvas>

    <script>
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');

        function resizeCanvas() {
            canvas.width = Math.min(window.innerWidth - 40, 800);
            canvas.height = Math.min(window.innerHeight - 200, 600);
        }

        resizeCanvas();
        window.addEventListener('resize', () => {
            resizeCanvas();
            draw();
        });

        // Controls
        const angleSlider = document.getElementById('angle');
        const depthSlider = document.getElementById('depth');
        const scaleSlider = document.getElementById('scale');

        angleSlider.addEventListener('input', () => {
            document.getElementById('angleValue').textContent = angleSlider.value;
            draw();
        });
        depthSlider.addEventListener('input', () => {
            document.getElementById('depthValue').textContent = depthSlider.value;
            draw();
        });
        scaleSlider.addEventListener('input', () => {
            document.getElementById('scaleValue').textContent = scaleSlider.value;
            draw();
        });

        function getBranchColor(depth, maxDepth) {
            const t = depth / maxDepth;
            const r = Math.floor(255 * (1 - t * 0.7));
            const g = Math.floor(100 + 155 * t);
            const b = Math.floor(50 + 205 * t);
            return `rgb(${r}, ${g}, ${b})`;
        }

        function drawBranch(x, y, length, angle, depth, maxDepth) {
            if (depth === 0) return;

            const endX = x + length * Math.cos(angle);
            const endY = y + length * Math.sin(angle);

            ctx.beginPath();
            ctx.moveTo(x, y);
            ctx.lineTo(endX, endY);
            ctx.strokeStyle = getBranchColor(maxDepth - depth, maxDepth);
            ctx.lineWidth = depth * 0.8;
            ctx.lineCap = 'round';
            ctx.stroke();

            const angleOffset = angleSlider.value * Math.PI / 180;
            const lengthScale = parseFloat(scaleSlider.value);

            setTimeout(() => {
                drawBranch(endX, endY, length * lengthScale, angle - angleOffset, depth - 1, maxDepth);
                drawBranch(endX, endY, length * lengthScale, angle + angleOffset, depth - 1, maxDepth);
            }, 30);
        }

        function draw() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            const startX = canvas.width / 2;
            const startY = canvas.height;
            const initialLength = canvas.height * 0.25;
            const maxDepth = parseInt(depthSlider.value);

            drawBranch(startX, startY, initialLength, -Math.PI / 2, maxDepth, maxDepth);
        }

        function regenerate() {
            draw();
        }

        // Initial draw with animation
        draw();
    </script>
</body>
</html>
