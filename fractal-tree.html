<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ãƒ•ãƒ©ã‚¯ã‚¿ãƒ«ãƒ„ãƒªãƒ¼ - è‡ªç„¶ã®æ•°å­¦</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            overflow: hidden;
            transition: background 0.5s;
        }

        body.spring { background: linear-gradient(135deg, #ffd1dc, #ffedea, #ffe4ec); }
        body.summer { background: linear-gradient(135deg, #d4fc79, #96e6a1, #74b9ff); }
        body.autumn { background: linear-gradient(135deg, #feca57, #ff9f43, #ee5a24); }
        body.winter { background: linear-gradient(135deg, #e0f7fa, #b2ebf2, #80deea); }

        .container {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            min-height: 100vh;
        }

        h1 {
            font-size: 1.5rem;
            margin-bottom: 15px;
            color: #2c3e50;
            text-shadow: 2px 2px 4px rgba(255,255,255,0.5);
        }

        .season-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .season-tab {
            padding: 10px 20px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s;
            font-weight: bold;
        }

        .season-tab.spring { background: #ffb6c1; color: #8b4557; }
        .season-tab.summer { background: #90ee90; color: #2e7d32; }
        .season-tab.autumn { background: #ffa500; color: #5d3a00; }
        .season-tab.winter { background: #b0e0e6; color: #006666; }

        .season-tab:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        .season-tab.active {
            box-shadow: 0 0 20px rgba(0,0,0,0.3);
            transform: scale(1.1);
        }

        #canvas {
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
            background: rgba(255,255,255,0.3);
            backdrop-filter: blur(10px);
        }

        .controls {
            margin-top: 20px;
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
            justify-content: center;
            align-items: center;
        }

        .control-group {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
        }

        label {
            font-size: 0.9rem;
            color: #555;
            font-weight: 500;
        }

        input[type="range"] {
            width: 150px;
            cursor: pointer;
        }

        .info {
            margin-top: 15px;
            padding: 15px;
            background: rgba(255,255,255,0.6);
            border-radius: 10px;
            text-align: center;
            color: #555;
            font-size: 0.9rem;
            max-width: 600px;
        }

        .fullscreen-btn {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 12px 20px;
            background: rgba(255,255,255,0.8);
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: bold;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            transition: all 0.3s;
            z-index: 1000;
        }

        .fullscreen-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 20px rgba(0,0,0,0.3);
        }

        @media (max-width: 600px) {
            h1 { font-size: 1.2rem; }
            .season-tab { padding: 8px 15px; font-size: 0.9rem; }
            input[type="range"] { width: 120px; }
        }
    </style>
</head>
<body class="spring">
    <button class="fullscreen-btn" onclick="toggleFullscreen()">å…¨ç”»é¢</button>

    <div class="container">
        <h1>ğŸŒ³ ãƒ•ãƒ©ã‚¯ã‚¿ãƒ«ãƒ„ãƒªãƒ¼ - è‡ªç„¶ã®æ•°å­¦</h1>

        <div class="season-tabs">
            <button class="season-tab spring active" onclick="setSeason('spring')">ğŸŒ¸ æ˜¥</button>
            <button class="season-tab summer" onclick="setSeason('summer')">ğŸŒ¿ å¤</button>
            <button class="season-tab autumn" onclick="setSeason('autumn')">ğŸ‚ ç§‹</button>
            <button class="season-tab winter" onclick="setSeason('winter')">â„ï¸ å†¬</button>
        </div>

        <canvas id="canvas" width="600" height="500"></canvas>

        <div class="controls">
            <div class="control-group">
                <label>å†å¸°ã®æ·±ã•: <span id="depthValue">10</span></label>
                <input type="range" id="depth" min="5" max="14" value="10" oninput="updateTree()">
            </div>
            <div class="control-group">
                <label>åˆ†å²è§’åº¦: <span id="angleValue">25</span>Â°</label>
                <input type="range" id="angle" min="10" max="45" value="25" oninput="updateTree()">
            </div>
            <div class="control-group">
                <label>æã®é•·ã•: <span id="lengthValue">100</span></label>
                <input type="range" id="length" min="50" max="150" value="100" oninput="updateTree()">
            </div>
        </div>

        <div class="info">
            <p>ğŸ”¬ å†å¸°çš„ãªæ•°å­¦ãŒç¾ã—ã„è‡ªç„¶ã‚’å‰µé€ ã—ã¾ã™ã€‚å­£ç¯€ã‚’å¤‰ãˆã¦ã€ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’èª¿æ•´ã—ã¦ã€æ§˜ã€…ãªãƒ„ãƒªãƒ¼ã‚’æ¢ç´¢ã—ã‚ˆã†ï¼</p>
        </div>
    </div>

    <script>
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');

        let currentSeason = 'spring';
        let depth = 10;
        let angle = 25;
        let length = 100;

        // å­£ç¯€ã®ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆ
        const seasonColors = {
            spring: {
                trunk: '#8B4513',
                leaf: ['#FFB6C1', '#FF69B4', '#FFC0CB', '#FFDAB9', '#FFF0F5'],
                leafText: 'ğŸŒ¸',
                bg: 'spring'
            },
            summer: {
                trunk: '#8B4513',
                leaf: ['#228B22', '#32CD32', '#006400', '#90EE90', '#98FB98'],
                leafText: 'ğŸŒ¿',
                bg: 'summer'
            },
            autumn: {
                trunk: '#8B4513',
                leaf: ['#FF8C00', '#FF6347', '#FFD700', '#DC143C', '#B22222'],
                leafText: 'ğŸ‚',
                bg: 'autumn'
            },
            winter: {
                trunk: '#654321',
                leaf: ['#FFFFFF', '#E0FFFF', '#B0E0E6', '#ADD8E6', '#F0F8FF'],
                leafText: 'â„ï¸',
                bg: 'winter'
            }
        };

        function setSeason(season) {
            currentSeason = season;
            document.body.className = season;

            // Update tabs
            document.querySelectorAll('.season-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelector(`.season-tab.${season}`).classList.add('active');

            updateTree();
        }

        function drawBranch(x, y, len, angle, depth) {
            if (depth === 0) {
                // Draw leaf
                const colors = seasonColors[currentSeason].leaf;
                const color = colors[Math.floor(Math.random() * colors.length)];

                ctx.beginPath();
                ctx.arc(x, y, 5, 0, Math.PI * 2);
                ctx.fillStyle = color;
                ctx.fill();

                // Add emoji for fun
                if (depth === 0 && Math.random() > 0.7) {
                    ctx.font = '12px Arial';
                    ctx.fillText(seasonColors[currentSeason].leafText, x - 6, y + 4);
                }
                return;
            }

            // Draw branch
            const endX = x + len * Math.cos(angle * Math.PI / 180);
            const endY = y - len * Math.sin(angle * Math.PI / 180);

            ctx.beginPath();
            ctx.moveTo(x, y);
            ctx.lineTo(endX, endY);
            ctx.strokeStyle = seasonColors[currentSeason].trunk;
            ctx.lineWidth = depth * 0.8;
            ctx.lineCap = 'round';
            ctx.stroke();

            // Recursively draw sub-branches
            const newLen = len * 0.7;
            const angleOffset = document.getElementById('angle').value;

            drawBranch(endX, endY, newLen, angle - angleOffset, depth - 1);
            drawBranch(endX, endY, newLen, angle + angleOffset, depth - 1);
        }

        function updateTree() {
            depth = parseInt(document.getElementById('depth').value);
            angle = parseInt(document.getElementById('angle').value);
            length = parseInt(document.getElementById('length').value);

            document.getElementById('depthValue').textContent = depth;
            document.getElementById('angleValue').textContent = angle;
            document.getElementById('lengthValue').textContent = length;

            // Clear canvas
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            // Draw tree
            const startX = canvas.width / 2;
            const startY = canvas.height - 30;

            drawBranch(startX, startY, length, 90, depth);
        }

        function toggleFullscreen() {
            if (!document.fullscreenElement) {
                document.documentElement.requestFullscreen();
            } else {
                document.exitFullscreen();
            }
        }

        // Initial draw
        updateTree();
    </script>
</body>
</html>
