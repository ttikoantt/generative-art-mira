<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pixel Speed Tap - Reaction Game</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-family: 'Courier New', monospace;
            overflow: hidden;
        }

        .game-container {
            width: 90vw;
            max-width: 500px;
            background: rgba(26, 26, 46, 0.9);
            border: 3px solid #00ff88;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 0 30px rgba(0, 255, 136, 0.3);
        }

        .header {
            text-align: center;
            margin-bottom: 20px;
        }

        .header h1 {
            color: #00ff88;
            font-size: 28px;
            margin-bottom: 10px;
            text-shadow: 0 0 10px rgba(0, 255, 136, 0.5);
        }

        .stats {
            display: flex;
            justify-content: space-around;
            color: #ffffff;
            font-size: 18px;
            margin-bottom: 20px;
        }

        .stat {
            background: rgba(0, 255, 136, 0.1);
            padding: 10px 20px;
            border-radius: 5px;
            border: 1px solid #00ff88;
        }

        .stat span {
            color: #00ff88;
            font-weight: bold;
        }

        .game-area {
            background: #0a0a15;
            border: 2px solid #333;
            border-radius: 8px;
            height: 400px;
            position: relative;
            cursor: crosshair;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .pixel {
            position: absolute;
            width: 60px;
            height: 60px;
            background: linear-gradient(45deg, #ff6b6b, #feca57);
            border-radius: 8px;
            cursor: pointer;
            transition: transform 0.1s;
            box-shadow: 0 0 20px rgba(255, 107, 107, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
        }

        .pixel:hover {
            transform: scale(1.1);
        }

        .pixel:active {
            transform: scale(0.9);
        }

        .overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: #ffffff;
            z-index: 10;
        }

        .overlay h2 {
            font-size: 32px;
            margin-bottom: 20px;
            color: #00ff88;
        }

        .overlay p {
            font-size: 16px;
            margin-bottom: 10px;
        }

        .overlay button {
            background: #00ff88;
            color: #1a1a2e;
            border: none;
            padding: 15px 40px;
            font-size: 20px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            margin-top: 20px;
            transition: all 0.3s;
        }

        .overlay button:hover {
            background: #00cc6a;
            transform: scale(1.05);
            box-shadow: 0 0 20px rgba(0, 255, 136, 0.5);
        }

        .combo {
            position: fixed;
            top: 10px;
            right: 10px;
            background: rgba(255, 107, 107, 0.9);
            color: white;
            padding: 10px 15px;
            border-radius: 5px;
            font-size: 16px;
            font-weight: bold;
            display: none;
            z-index: 100;
        }

        .combo.show {
            display: block;
            animation: pulse 0.3s;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }

        .result {
            text-align: center;
        }

        .result .score-display {
            font-size: 48px;
            color: #00ff88;
            margin: 20px 0;
            text-shadow: 0 0 20px rgba(0, 255, 136, 0.5);
        }

        .result .stats-display {
            font-size: 18px;
            margin-bottom: 20px;
        }

        .result .stats-display div {
            margin: 5px 0;
        }
    </style>
</head>
<body>
    <div class="game-container">
        <div class="header">
            <h1>‚ö° Pixel Speed Tap ‚ö°</h1>
        </div>

        <div class="stats">
            <div class="stat">Score: <span id="score">0</span></div>
            <div class="stat">Time: <span id="time">30</span>s</div>
        </div>

        <div class="game-area" id="gameArea">
            <div class="overlay" id="startOverlay">
                <h2>Pixel Speed Tap</h2>
                <p>„Éî„ÇØ„Çª„É´„Çí„Çø„ÉÉ„Éó„Åó„Å¶„Çπ„Ç≥„Ç¢„ÇíÁ®º„Åî„ÅÜÔºÅ</p>
                <p>‚è±Ô∏è Âà∂ÈôêÊôÇÈñì30Áßí</p>
                <p>üéØ ÈÄ£Á∂ö„ÅßÂΩì„Å¶„Çã„Å®„Ç≥„É≥„Éú„Éú„Éº„Éä„Çπ</p>
                <button onclick="startGame()">„Çπ„Çø„Éº„Éà</button>
            </div>
        </div>
    </div>

    <div class="combo" id="comboDisplay">Combo: <span id="comboCount">0</span>x</div>

    <script>
        const gameArea = document.getElementById('gameArea');
        const startOverlay = document.getElementById('startOverlay');
        const scoreDisplay = document.getElementById('score');
        const timeDisplay = document.getElementById('time');
        const comboDisplay = document.getElementById('comboDisplay');
        const comboCount = document.getElementById('comboCount');

        let score = 0;
        let timeLeft = 30;
        let gameInterval = null;
        let pixelMoveInterval = null;
        let combo = 0;
        let totalClicks = 0;
        let hitClicks = 0;

        const emojis = ['‚ö°', 'üéØ', 'üíé', 'üåü', 'üî•', '‚≠ê', 'üéÆ', 'üöÄ'];

        function startGame() {
            score = 0;
            timeLeft = 30;
            combo = 0;
            totalClicks = 0;
            hitClicks = 0;

            scoreDisplay.textContent = score;
            timeDisplay.textContent = timeLeft;
            comboDisplay.classList.remove('show');

            // „Ç™„Éº„Éê„Éº„É¨„Ç§„ÇíÂâäÈô§
            startOverlay.remove();

            // „Éî„ÇØ„Çª„É´„ÇíÁîüÊàê
            createPixel();

            // „Ç≤„Éº„É†„É´„Éº„ÉóÈñãÂßã
            gameInterval = setInterval(updateTimer, 1000);
            pixelMoveInterval = setInterval(movePixel, 1500);
        }

        function createPixel() {
            // Êó¢Â≠ò„ÅÆ„Éî„ÇØ„Çª„É´„ÇíÂâäÈô§
            const existingPixel = gameArea.querySelector('.pixel');
            if (existingPixel) {
                existingPixel.remove();
            }

            // Êñ∞„Åó„ÅÑ„Éî„ÇØ„Çª„É´„Çí‰ΩúÊàê
            const pixel = document.createElement('div');
            pixel.className = 'pixel';
            pixel.textContent = emojis[Math.floor(Math.random() * emojis.length)];

            // „É©„É≥„ÉÄ„É†„Å™‰ΩçÁΩÆ„Å´ÈÖçÁΩÆ
            const maxX = gameArea.clientWidth - 60;
            const maxY = gameArea.clientHeight - 60;
            const x = Math.random() * maxX;
            const y = Math.random() * maxY;

            pixel.style.left = x + 'px';
            pixel.style.top = y + 'px';

            // „ÇØ„É™„ÉÉ„ÇØ„Ç§„Éô„É≥„Éà
            pixel.addEventListener('click', () => {
                hitPixel();
            });

            // „Çø„ÉÉ„ÉÅ„Ç§„Éô„É≥„Éà
            pixel.addEventListener('touchstart', (e) => {
                e.preventDefault();
                hitPixel();
            });

            gameArea.appendChild(pixel);
        }

        function movePixel() {
            const pixel = gameArea.querySelector('.pixel');
            if (pixel) {
                const maxX = gameArea.clientWidth - 60;
                const maxY = gameArea.clientHeight - 60;
                const x = Math.random() * maxX;
                const y = Math.random() * maxY;

                pixel.style.left = x + 'px';
                pixel.style.top = y + 'px';
            }
        }

        function hitPixel() {
            combo++;
            hitClicks++;

            // „Ç≥„É≥„Éú„Éú„Éº„Éä„Çπ
            const comboBonus = Math.floor(combo / 5);
            const points = 10 + comboBonus * 5;
            score += points;

            scoreDisplay.textContent = score;

            // „Ç≥„É≥„ÉúË°®Á§∫
            if (combo > 1) {
                comboCount.textContent = combo;
                comboDisplay.classList.add('show');
            }

            // „Éî„ÇØ„Çª„É´„ÇíÂÜçÈÖçÁΩÆ
            createPixel();
        }

        function updateTimer() {
            timeLeft--;
            timeDisplay.textContent = timeLeft;

            if (timeLeft <= 0) {
                endGame();
            }
        }

        function endGame() {
            clearInterval(gameInterval);
            clearInterval(pixelMoveInterval);

            // „Éî„ÇØ„Çª„É´„ÇíÂâäÈô§
            const pixel = gameArea.querySelector('.pixel');
            if (pixel) {
                pixel.remove();
            }

            // ÁµêÊûú„Ç™„Éº„Éê„Éº„É¨„Ç§„ÇíË°®Á§∫
            const accuracy = totalClicks > 0 ? Math.round((hitClicks / totalClicks) * 100) : 0;

            const resultOverlay = document.createElement('div');
            resultOverlay.className = 'overlay';
            resultOverlay.innerHTML = `
                <div class="result">
                    <h2>üéâ „Ç≤„Éº„É†ÁµÇ‰∫ÜÔºÅ</h2>
                    <div class="score-display">${score} pts</div>
                    <div class="stats-display">
                        <div>üéØ Ê≠£Á¢∫„Åï: ${accuracy}%</div>
                        <div>üî• ÊúÄÂ§ß„Ç≥„É≥„Éú: ${combo}</div>
                    </div>
                    <button onclick="location.reload()">„ÇÇ„ÅÜ‰∏ÄÂ∫¶</button>
                </div>
            `;

            gameArea.appendChild(resultOverlay);
            comboDisplay.classList.remove('show');
        }

        // „Ç≤„Éº„É†„Ç®„É™„Ç¢„ÅÆ„ÇØ„É™„ÉÉ„ÇØ„Çí„Ç´„Ç¶„É≥„Éà
        gameArea.addEventListener('click', (e) => {
            if (e.target === gameArea) {
                combo = 0;
                totalClicks++;
                comboDisplay.classList.remove('show');
            }
        });
    </script>
</body>
</html>
