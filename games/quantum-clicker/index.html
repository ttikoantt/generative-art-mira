<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quantum Clicker | ÈáèÂ≠ê„ÇØ„É™„ÉÉ„Ç´„Éº</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 100%);
            min-height: 100vh;
            font-family: 'Courier New', monospace;
            color: #00ffcc;
            overflow-x: hidden;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            padding: 30px 0;
            border-bottom: 1px solid rgba(0, 255, 204, 0.2);
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 0 0 20px rgba(0, 255, 204, 0.5);
        }

        .energy-display {
            text-align: center;
            padding: 30px;
            background: rgba(0, 255, 204, 0.05);
            border: 2px solid rgba(0, 255, 204, 0.3);
            border-radius: 10px;
            margin: 30px 0;
            position: relative;
            overflow: hidden;
        }

        .energy-display::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(0, 255, 204, 0.1) 0%, transparent 70%);
            animation: rotate 20s linear infinite;
        }

        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .energy-amount {
            font-size: 4em;
            font-weight: bold;
            text-shadow: 0 0 30px rgba(0, 255, 204, 0.8);
            position: relative;
            z-index: 1;
        }

        .energy-rate {
            font-size: 1.5em;
            margin-top: 10px;
            opacity: 0.8;
            position: relative;
            z-index: 1;
        }

        .quantum-button {
            display: block;
            width: 100%;
            max-width: 300px;
            margin: 40px auto;
            padding: 30px;
            font-size: 1.5em;
            font-family: 'Courier New', monospace;
            background: linear-gradient(135deg, rgba(0, 255, 204, 0.2) 0%, rgba(0, 200, 255, 0.2) 100%);
            border: 3px solid rgba(0, 255, 204, 0.5);
            color: #00ffcc;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
            border-radius: 10px;
        }

        .quantum-button:hover {
            background: linear-gradient(135deg, rgba(0, 255, 204, 0.3) 0%, rgba(0, 200, 255, 0.3) 100%);
            box-shadow: 0 0 30px rgba(0, 255, 204, 0.5);
            transform: scale(1.05);
        }

        .quantum-button:active {
            transform: scale(0.98);
        }

        .quantum-button::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: rgba(0, 255, 204, 0.3);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            transition: width 0.3s, height 0.3s;
        }

        .quantum-button:active::before {
            width: 300px;
            height: 300px;
        }

        .upgrades {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-top: 40px;
        }

        .upgrade {
            background: rgba(0, 255, 204, 0.05);
            border: 2px solid rgba(0, 255, 204, 0.3);
            border-radius: 10px;
            padding: 20px;
            transition: all 0.3s;
            cursor: pointer;
        }

        .upgrade:hover {
            background: rgba(0, 255, 204, 0.1);
            border-color: rgba(0, 255, 204, 0.5);
            box-shadow: 0 0 20px rgba(0, 255, 204, 0.3);
        }

        .upgrade.disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .upgrade-name {
            font-size: 1.3em;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .upgrade-cost {
            font-size: 1.1em;
            margin-bottom: 10px;
            color: #ffcc00;
        }

        .upgrade-count {
            font-size: 0.9em;
            opacity: 0.8;
            margin-top: 10px;
        }

        .fullscreen-btn {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(0, 255, 204, 0.1);
            border: 1px solid rgba(0, 255, 204, 0.3);
            color: rgba(0, 255, 204, 0.8);
            padding: 10px 20px;
            font-size: 14px;
            cursor: pointer;
            z-index: 100;
            transition: all 0.3s;
            font-family: 'Courier New', monospace;
        }

        .fullscreen-btn:hover {
            background: rgba(0, 255, 204, 0.2);
            box-shadow: 0 0 20px rgba(0, 255, 204, 0.3);
        }

        .back-btn {
            position: fixed;
            top: 20px;
            left: 20px;
            background: rgba(0, 255, 204, 0.1);
            border: 1px solid rgba(0, 255, 204, 0.3);
            color: rgba(0, 255, 204, 0.8);
            padding: 10px 20px;
            font-size: 14px;
            cursor: pointer;
            z-index: 100;
            transition: all 0.3s;
            font-family: 'Courier New', monospace;
            text-decoration: none;
        }

        .back-btn:hover {
            background: rgba(0, 255, 204, 0.2);
            box-shadow: 0 0 20px rgba(0, 255, 204, 0.3);
        }

        .click-effect {
            position: fixed;
            pointer-events: none;
            color: #00ffcc;
            font-weight: bold;
            font-size: 1.5em;
            text-shadow: 0 0 10px rgba(0, 255, 204, 0.8);
            animation: floatUp 1s ease-out forwards;
            z-index: 1000;
        }

        @keyframes floatUp {
            0% {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
            100% {
                opacity: 0;
                transform: translateY(-100px) scale(1.5);
            }
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.8em;
            }

            .energy-amount {
                font-size: 2.5em;
            }

            .quantum-button {
                padding: 20px;
                font-size: 1.2em;
            }

            .upgrades {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <a href="../index.html" class="back-btn">‚Üê Êàª„Çã</a>
    <button class="fullscreen-btn" onclick="toggleFullscreen()">ÂÖ®ÁîªÈù¢</button>

    <div class="container">
        <div class="header">
            <h1>‚öõÔ∏è Quantum Clicker</h1>
            <p>ÈáèÂ≠ê„ÇØ„É™„ÉÉ„Ç´„Éº - ÈáèÂ≠ê„ÇÇ„Å§„Çå„ÇíÊìç„Çã</p>
        </div>

        <div class="energy-display">
            <div class="energy-amount"><span id="energy">0</span> ‚ö°</div>
            <div class="energy-rate"><span id="rate">0</span> ‚ö°/Áßí</div>
        </div>

        <button class="quantum-button" id="clickButton">
            ‚öõÔ∏è ÈáèÂ≠ê„ÇíË¶≥Ê∏¨
        </button>

        <div class="upgrades" id="upgrades"></div>
    </div>

    <script>
        let energy = 0;
        let clickPower = 1;
        let autoRate = 0;

        const upgrades = [
            {
                id: 'observer',
                name: 'üëÅÔ∏è Ë¶≥Ê∏¨ËÄÖ',
                description: '„ÇØ„É™„ÉÉ„ÇØ„Éë„ÉØ„Éº +1',
                baseCost: 15,
                costMultiplier: 1.15,
                count: 0,
                effect: () => { clickPower += 1; }
            },
            {
                id: 'entanglement',
                name: 'üîó ÈáèÂ≠ê„ÇÇ„Å§„Çå',
                description: 'Ëá™ÂãïÂèéÈõÜ +1/Áßí',
                baseCost: 100,
                costMultiplier: 1.15,
                count: 0,
                effect: () => { autoRate += 1; }
            },
            {
                id: 'superposition',
                name: 'üé≠ Èáç„Å≠Âêà„Çè„Åõ',
                description: '„ÇØ„É™„ÉÉ„ÇØ„Éë„ÉØ„Éº +5',
                baseCost: 500,
                costMultiplier: 1.15,
                count: 0,
                effect: () => { clickPower += 5; }
            },
            {
                id: 'tunneling',
                name: 'üåä „Éà„É≥„Éç„É´ÂäπÊûú',
                description: 'Ëá™ÂãïÂèéÈõÜ +10/Áßí',
                baseCost: 2000,
                costMultiplier: 1.15,
                count: 0,
                effect: () => { autoRate += 10; }
            },
            {
                id: 'decoherence',
                name: 'üí´ „Éá„Ç≥„Éí„Éº„É¨„É≥„Çπ',
                description: '„ÇØ„É™„ÉÉ„ÇØ„Éë„ÉØ„Éº +50',
                baseCost: 10000,
                costMultiplier: 1.15,
                count: 0,
                effect: () => { clickPower += 50; }
            },
            {
                id: 'teleportation',
                name: 'üöÄ „ÉÜ„É¨„Éù„Éº„ÉÜ„Éº„Ç∑„Éß„É≥',
                description: 'Ëá™ÂãïÂèéÈõÜ +100/Áßí',
                baseCost: 50000,
                costMultiplier: 1.15,
                count: 0,
                effect: () => { autoRate += 100; }
            }
        ];

        function getCost(upgrade) {
            return Math.floor(upgrade.baseCost * Math.pow(upgrade.costMultiplier, upgrade.count));
        }

        function formatNumber(num) {
            if (num >= 1e9) return (num / 1e9).toFixed(2) + 'B';
            if (num >= 1e6) return (num / 1e6).toFixed(2) + 'M';
            if (num >= 1e3) return (num / 1e3).toFixed(2) + 'K';
            return Math.floor(num).toString();
        }

        function updateDisplay() {
            document.getElementById('energy').textContent = formatNumber(energy);
            document.getElementById('rate').textContent = formatNumber(autoRate);

            upgrades.forEach(upgrade => {
                const cost = getCost(upgrade);
                const element = document.getElementById(`upgrade-${upgrade.id}`);
                const costElement = document.getElementById(`cost-${upgrade.id}`);
                const countElement = document.getElementById(`count-${upgrade.id}`);

                if (element) {
                    if (energy >= cost) {
                        element.classList.remove('disabled');
                    } else {
                        element.classList.add('disabled');
                    }

                    costElement.textContent = formatNumber(cost) + ' ‚ö°';
                    countElement.textContent = `ÊâÄÊåÅ: ${upgrade.count}`;
                }
            });
        }

        function createClickEffect(x, y, amount) {
            const effect = document.createElement('div');
            effect.className = 'click-effect';
            effect.textContent = '+' + formatNumber(amount);
            effect.style.left = x + 'px';
            effect.style.top = y + 'px';
            document.body.appendChild(effect);

            setTimeout(() => {
                effect.remove();
            }, 1000);
        }

        function renderUpgrades() {
            const container = document.getElementById('upgrades');
            container.innerHTML = '';

            upgrades.forEach(upgrade => {
                const div = document.createElement('div');
                div.className = 'upgrade' + (energy < getCost(upgrade) ? ' disabled' : '');
                div.id = `upgrade-${upgrade.id}`;
                div.innerHTML = `
                    <div class="upgrade-name">${upgrade.name}</div>
                    <div class="upgrade-cost" id="cost-${upgrade.id}">${formatNumber(getCost(upgrade))} ‚ö°</div>
                    <div>${upgrade.description}</div>
                    <div class="upgrade-count" id="count-${upgrade.id}">ÊâÄÊåÅ: ${upgrade.count}</div>
                `;

                div.addEventListener('click', () => {
                    const cost = getCost(upgrade);
                    if (energy >= cost) {
                        energy -= cost;
                        upgrade.count++;
                        upgrade.effect();
                        updateDisplay();
                        saveGame();
                    }
                });

                container.appendChild(div);
            });
        }

        function loadGame() {
            const saved = localStorage.getItem('quantumClicker');
            if (saved) {
                const data = JSON.parse(saved);
                energy = data.energy || 0;
                clickPower = data.clickPower || 1;
                autoRate = data.autoRate || 0;

                upgrades.forEach(upgrade => {
                    if (data.upgrades && data.upgrades[upgrade.id]) {
                        upgrade.count = data.upgrades[upgrade.id];
                    }
                });
            }
        }

        function saveGame() {
            const data = {
                energy,
                clickPower,
                autoRate,
                upgrades: {}
            };

            upgrades.forEach(upgrade => {
                data.upgrades[upgrade.id] = upgrade.count;
            });

            localStorage.setItem('quantumClicker', JSON.stringify(data));
        }

        // „ÇØ„É™„ÉÉ„ÇØ„Ç§„Éô„É≥„Éà
        document.getElementById('clickButton').addEventListener('click', (e) => {
            energy += clickPower;
            createClickEffect(e.clientX, e.clientY, clickPower);
            updateDisplay();
        });

        // Ëá™ÂãïÂèéÈõÜ
        setInterval(() => {
            if (autoRate > 0) {
                energy += autoRate / 10;
                updateDisplay();
            }
        }, 100);

        // Ëá™Âãï„Çª„Éº„Éñ
        setInterval(() => {
            saveGame();
        }, 30000);

        function toggleFullscreen() {
            if (!document.fullscreenElement) {
                document.documentElement.requestFullscreen();
            } else {
                document.exitFullscreen();
            }
        }

        // ÂàùÊúüÂåñ
        loadGame();
        renderUpgrades();
        updateDisplay();
    </script>
</body>
</html>
