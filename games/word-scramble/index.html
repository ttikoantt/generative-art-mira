<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Word Scramble - ÊñáÂ≠ó‰∏¶„ÅπÊõø„Åà„Éë„Ç∫„É´</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Hiragino Sans', 'Helvetica Neue', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }

        .container {
            width: 90%;
            max-width: 600px;
            background: rgba(255,255,255,0.95);
            border-radius: 30px;
            padding: 40px 30px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            backdrop-filter: blur(10px);
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
        }

        .header h1 {
            font-size: 32px;
            color: #667eea;
            margin-bottom: 10px;
        }

        .stats {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-top: 15px;
        }

        .stat {
            text-align: center;
        }

        .stat-label {
            font-size: 12px;
            color: #666;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .stat-value {
            font-size: 28px;
            font-weight: bold;
            color: #764ba2;
        }

        .game-area {
            text-align: center;
        }

        .scrambled-word {
            font-size: 48px;
            font-weight: bold;
            color: #667eea;
            margin: 30px 0;
            letter-spacing: 10px;
            min-height: 60px;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-wrap: wrap;
            gap: 10px;
        }

        .scrambled-word span {
            display: inline-block;
            padding: 10px 15px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 10px;
            min-width: 40px;
            text-align: center;
            letter-spacing: 0;
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
        }

        .input-area {
            margin: 30px 0;
        }

        .input-area input {
            width: 100%;
            padding: 15px 20px;
            font-size: 20px;
            border: 2px solid #e0e0e0;
            border-radius: 15px;
            text-align: center;
            transition: all 0.3s ease;
        }

        .input-area input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 20px rgba(102, 126, 234, 0.2);
        }

        .buttons {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }

        .btn {
            flex: 1;
            padding: 15px 25px;
            border: none;
            border-radius: 15px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-submit {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-submit:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.4);
        }

        .btn-hint {
            background: #f0f0f0;
            color: #666;
        }

        .btn-hint:hover {
            background: #e0e0e0;
        }

        .hint-text {
            margin-top: 20px;
            padding: 15px;
            background: #fffacd;
            border-radius: 10px;
            color: #8b7500;
            font-size: 14px;
            display: none;
        }

        .hint-text.show {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        .message {
            margin-top: 20px;
            padding: 15px;
            border-radius: 10px;
            font-size: 16px;
            font-weight: bold;
            text-align: center;
            display: none;
        }

        .message.correct {
            background: #d4edda;
            color: #155724;
            display: block;
            animation: fadeIn 0.3s ease;
        }

        .message.incorrect {
            background: #f8d7da;
            color: #721c24;
            display: block;
            animation: shake 0.5s ease;
        }

        .difficulty {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 20px;
        }

        .diff-btn {
            padding: 8px 15px;
            border: 2px solid #e0e0e0;
            background: white;
            border-radius: 20px;
            cursor: pointer;
            font-size: 12px;
            transition: all 0.3s ease;
        }

        .diff-btn.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-color: transparent;
        }

        .fullscreen-btn {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 12px 20px;
            background: rgba(255,255,255,0.2);
            border: 1px solid rgba(255,255,255,0.3);
            border-radius: 25px;
            color: white;
            cursor: pointer;
            font-size: 14px;
            backdrop-filter: blur(10px);
            z-index: 100;
            transition: all 0.3s ease;
        }

        .fullscreen-btn:hover {
            background: rgba(255,255,255,0.3);
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }

        @media (max-width: 600px) {
            .scrambled-word {
                font-size: 32px;
                letter-spacing: 5px;
            }
            .scrambled-word span {
                padding: 8px 12px;
                min-width: 30px;
                font-size: 24px;
            }
        }
    </style>
</head>
<body>
    <button class="fullscreen-btn" id="fullscreen">‚õ∂ ÂÖ®ÁîªÈù¢</button>

    <div class="container">
        <div class="header">
            <h1>üìù Word Scramble</h1>
            <div class="stats">
                <div class="stat">
                    <div class="stat-label">„Çπ„Ç≥„Ç¢</div>
                    <div class="stat-value" id="score">0</div>
                </div>
                <div class="stat">
                    <div class="stat-label">ÈÄ£Á∂öÊ≠£Ëß£</div>
                    <div class="stat-value" id="streak">0</div>
                </div>
            </div>
        </div>

        <div class="game-area">
            <div class="scrambled-word" id="scrambledWord"></div>

            <div class="input-area">
                <input type="text" id="answerInput" placeholder="Á≠î„Åà„ÇíÂÖ•Âäõ..." autocomplete="off">
            </div>

            <div class="buttons">
                <button class="btn btn-submit" id="submitBtn">ÈÄÅ‰ø°</button>
                <button class="btn btn-hint" id="hintBtn">üí° „Éí„É≥„Éà</button>
            </div>

            <div class="hint-text" id="hintText"></div>
            <div class="message" id="message"></div>

            <div class="difficulty">
                <button class="diff-btn active" data-diff="easy">Á∞°Âçò</button>
                <button class="diff-btn" data-diff="medium">ÊôÆÈÄö</button>
                <button class="diff-btn" data-diff="hard">Èõ£„Åó„ÅÑ</button>
            </div>
        </div>
    </div>

    <script>
        // ÂçòË™û„É™„Çπ„Éà
        const words = {
            easy: {
                japanese: [
                    { word: '„Å≠„Åì', hint: '‰∫∫Ê∞ó„ÅÆ„Éö„ÉÉ„Éà' },
                    { word: '„ÅÑ„Å¨', hint: '‰∫∫Èñì„ÅÆÂèã' },
                    { word: '„Åï„Åè„Çâ', hint: 'Êò•„ÅÆËä±' },
                    { word: '„Å§„Åç', hint: 'Â§úÁ©∫„Å´Ëºù„Åè' },
                    { word: '„ÇÑ„Åæ', hint: 'È´ò„Åè„Å¶Ëá™ÁÑ∂„Å™„ÇÇ„ÅÆ' },
                    { word: '„ÅÜ„Åø', hint: 'Â∫É„ÅÑÈùí„ÅÑÂ†¥ÊâÄ' },
                    { word: '„Åù„Çâ', hint: 'È≥•„ÅåÈ£õ„Å∂Â†¥ÊâÄ' },
                    { word: '„Åª„Åó', hint: 'Â§ú„Å´ÂÖâ„Çã' }
                ],
                english: [
                    { word: 'cat', hint: 'Popular pet' },
                    { word: 'dog', hint: "Man's best friend" },
                    { word: 'sun', hint: 'Bright star' },
                    { word: 'moon', hint: 'Night light' },
                    { word: 'tree', hint: 'Has leaves' },
                    { word: 'book', hint: 'You read it' },
                    { word: 'water', hint: 'You drink it' },
                    { word: 'bird', hint: 'Can fly' }
                ]
            },
            medium: {
                japanese: [
                    { word: '„Åí„Çì„Åç', hint: 'ÂÅ•Â∫∑„Å™Áä∂ÊÖã' },
                    { word: '„Åü„Çì„Åò„Çá„ÅÜ„Å≥', hint: 'Áîü„Åæ„Çå„ÅüÊó•' },
                    { word: '„Å®„ÇÇ„Å†„Å°', hint: 'Ë¶™„Åó„ÅÑ‰∫∫' },
                    { word: '„Åä„Çì„Åå„Åè', hint: 'ËÄ≥„ÅßÊ•Ω„Åó„ÇÄ' },
                    { word: '„Åå„Å£„Åì„ÅÜ', hint: 'Â≠¶„Å∂Â†¥ÊâÄ' },
                    { word: '„Å¶„Çì„Åç', hint: 'Á©∫„ÅÆÁä∂ÊÖã' }
                ],
                english: [
                    { word: 'happy', hint: 'Positive emotion' },
                    { word: 'school', hint: 'Place to learn' },
                    { word: 'friend', hint: 'Close person' },
                    { word: 'music', hint: 'You listen to it' },
                    { word: 'garden', hint: 'Plants grow here' },
                    { word: 'orange', hint: 'A fruit and color' }
                ]
            },
            hard: {
                japanese: [
                    { word: '„ÅÇ„Åï„Å≤', hint: 'ÊúùÊó•„ÅÆÂÖâ' },
                    { word: '„ÇÜ„ÅÜ„ÇÑ„Åë', hint: 'Â§ïÊñπ„ÅÆÁ©∫' },
                    { word: '„Åä„Åã„Åó', hint: 'Áîò„ÅÑÈ£ü„ÅπÁâ©' },
                    { word: '„Åò„Å¶„Çì„Åó„ÇÉ', hint: '„Éö„ÉÄ„É´„ÇíÊºï„Åê‰πó„ÇäÁâ©' },
                    { word: '„Å†„ÅÑ„Åå„Åè', hint: 'È´òÁ≠âÊïôËÇ≤Ê©üÈñ¢' }
                ],
                english: [
                    { word: 'butterfly', hint: 'Colorful insect' },
                    { word: 'adventure', hint: 'Exciting journey' },
                    { word: 'mountain', hint: 'High landform' },
                    { word: 'sunshine', hint: 'Light from sun' },
                    { word: 'chocolate', hint: 'Sweet brown treat' }
                ]
            }
        };

        let currentDifficulty = 'easy';
        let currentWord = '';
        let currentHint = '';
        let score = 0;
        let streak = 0;
        let usedWords = new Set();

        const scrambledWordEl = document.getElementById('scrambledWord');
        const answerInput = document.getElementById('answerInput');
        const submitBtn = document.getElementById('submitBtn');
        const hintBtn = document.getElementById('hintBtn');
        const hintText = document.getElementById('hintText');
        const message = document.getElementById('message');
        const scoreEl = document.getElementById('score');
        const streakEl = document.getElementById('streak');

        function scrambleWord(word) {
            const chars = word.split('');
            for (let i = chars.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [chars[i], chars[j]] = [chars[j], chars[i]];
            }
            const scrambled = chars.join('');
            return scrambled === word ? scrambleWord(word) : scrambled;
        }

        function getNewWord() {
            const allWords = [
                ...words[currentDifficulty].japanese.map(w => ({...w, lang: 'japanese'})),
                ...words[currentDifficulty].english.map(w => ({...w, lang: 'english'}))
            ];

            const available = allWords.filter(w => !usedWords.has(w.word));

            if (available.length === 0) {
                usedWords.clear();
                return allWords[Math.floor(Math.random() * allWords.length)];
            }

            return available[Math.floor(Math.random() * available.length)];
        }

        function loadNewWord() {
            const wordData = getNewWord();
            currentWord = wordData.word;
            currentHint = wordData.hint;
            usedWords.add(currentWord);

            const scrambled = scrambleWord(currentWord);
            scrambledWordEl.innerHTML = scrambled.split('').map(char =>
                `<span>${char}</span>`
            ).join('');

            answerInput.value = '';
            hintText.classList.remove('show');
            message.className = 'message';
            message.textContent = '';
        }

        function checkAnswer() {
            const answer = answerInput.value.trim().toLowerCase();
            const correct = currentWord.toLowerCase();

            if (answer === correct) {
                streak++;
                const points = currentDifficulty === 'easy' ? 10 : currentDifficulty === 'medium' ? 20 : 30;
                score += points * (1 + Math.floor(streak / 5) * 0.5);
                scoreEl.textContent = score;
                streakEl.textContent = streak;

                message.textContent = `üéâ Ê≠£Ëß£ÔºÅ +${Math.floor(points * (1 + Math.floor(streak / 5) * 0.5))}„Éù„Ç§„É≥„Éà`;
                message.className = 'message correct';

                setTimeout(loadNewWord, 1500);
            } else {
                streak = 0;
                streakEl.textContent = streak;
                message.textContent = '‚ùå ÈñìÈÅï„ÅÑ„Åß„Åô„ÄÇ„ÇÇ„ÅÜ‰∏ÄÂ∫¶ÔºÅ';
                message.className = 'message incorrect';
                setTimeout(() => {
                    message.className = 'message';
                }, 1500);
            }
        }

        function showHint() {
            hintText.textContent = `üí° „Éí„É≥„Éà: ${currentHint}`;
            hintText.classList.add('show');
        }

        // „Ç§„Éô„É≥„Éà„É™„Çπ„Éä„Éº
        submitBtn.addEventListener('click', checkAnswer);
        hintBtn.addEventListener('click', showHint);

        answerInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                checkAnswer();
            }
        });

        document.querySelectorAll('.diff-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                document.querySelectorAll('.diff-btn').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                currentDifficulty = btn.dataset.diff;
                usedWords.clear();
                loadNewWord();
            });
        });

        document.getElementById('fullscreen').addEventListener('click', () => {
            if (!document.fullscreenElement) {
                document.documentElement.requestFullscreen();
            } else {
                document.exitFullscreen();
            }
        });

        // „Ç≤„Éº„É†ÈñãÂßã
        loadNewWord();
        answerInput.focus();
    </script>
</body>
</html>
