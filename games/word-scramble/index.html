<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Word Scramble | Mira</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Courier New', monospace;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            color: #e0e0e0;
        }

        h1 {
            font-size: 1.5rem;
            margin-bottom: 10px;
            text-align: center;
            color: #00d4ff;
            text-shadow: 0 0 10px rgba(0, 212, 255, 0.5);
        }

        .stats {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
            font-size: 0.9rem;
        }

        .stat {
            background: rgba(0, 212, 255, 0.1);
            padding: 8px 15px;
            border-radius: 5px;
            border: 1px solid #00d4ff;
        }

        .game-container {
            max-width: 500px;
            width: 100%;
        }

        .scrambled-word {
            background: rgba(0, 212, 255, 0.1);
            border: 2px solid #00d4ff;
            border-radius: 10px;
            padding: 30px;
            text-align: center;
            font-size: 2.5rem;
            font-weight: bold;
            letter-spacing: 0.3em;
            color: #00d4ff;
            margin-bottom: 30px;
            text-shadow: 0 0 20px rgba(0, 212, 255, 0.5);
        }

        .input-container {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        input[type="text"] {
            flex: 1;
            padding: 15px;
            font-size: 1.2rem;
            font-family: 'Courier New', monospace;
            background: rgba(0, 0, 0, 0.3);
            border: 2px solid #00d4ff;
            border-radius: 8px;
            color: #e0e0e0;
            text-transform: uppercase;
            text-align: center;
            letter-spacing: 0.2em;
        }

        input[type="text"]:focus {
            outline: none;
            border-color: #00ffff;
            box-shadow: 0 0 15px rgba(0, 212, 255, 0.3);
        }

        button {
            padding: 15px 30px;
            font-size: 1rem;
            font-family: 'Courier New', monospace;
            background: rgba(0, 212, 255, 0.2);
            border: 2px solid #00d4ff;
            border-radius: 8px;
            color: #00d4ff;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        button:hover {
            background: rgba(0, 212, 255, 0.4);
            transform: scale(1.05);
        }

        button:active {
            transform: scale(0.95);
        }

        .buttons {
            display: flex;
            gap: 10px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .message {
            text-align: center;
            font-size: 1.2rem;
            margin-top: 20px;
            padding: 15px;
            border-radius: 8px;
            min-height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .message.correct {
            background: rgba(0, 255, 100, 0.2);
            color: #00ff64;
            border: 2px solid #00ff64;
        }

        .message.incorrect {
            background: rgba(255, 0, 100, 0.2);
            color: #ff0064;
            border: 2px solid #ff0064;
        }

        .message.hint {
            background: rgba(255, 200, 0, 0.2);
            color: #ffc800;
            border: 2px solid #ffc800;
        }

        .hint-text {
            text-align: center;
            font-size: 0.9rem;
            color: #888;
            margin-top: 20px;
            font-style: italic;
        }

        @media (max-width: 600px) {
            h1 {
                font-size: 1.2rem;
            }

            .scrambled-word {
                font-size: 2rem;
                padding: 20px;
            }

            input[type="text"] {
                font-size: 1rem;
                padding: 12px;
            }

            button {
                padding: 12px 20px;
                font-size: 0.9rem;
            }
        }
    </style>
</head>
<body>
    <h1>üìù Word Scramble</h1>

    <div class="stats">
        <div class="stat">Score: <span id="score">0</span></div>
        <div class="stat">Streak: <span id="streak">0</span></div>
        <div class="stat">Best: <span id="best">0</span></div>
    </div>

    <div class="game-container">
        <div class="scrambled-word" id="scrambledWord">?????</div>

        <div class="input-container">
            <input
                type="text"
                id="guessInput"
                placeholder="Enter word"
                maxlength="15"
                autocomplete="off"
                autocapitalize="characters"
            >
            <button onclick="checkGuess()">Submit</button>
        </div>

        <div class="buttons">
            <button onclick="skipWord()">Skip (-2)</button>
            <button onclick="showHint()">Hint (-1)</button>
            <button onclick="newGame()">New Game</button>
        </div>

        <div class="message" id="message"></div>
        <p class="hint-text" id="hintText"></p>
    </div>

    <script>
        const words = [
            { word: "JAVASCRIPT", hint: "A popular programming language" },
            { word: "PYTHON", hint: "Named after a comedy group" },
            { word: "ALGORITHM", hint: "A step-by-step procedure" },
            { word: "VARIABLE", hint: "Stores data in programming" },
            { word: "FUNCTION", hint: "Reusable code block" },
            { word: "ARRAY", hint: "Collection of items" },
            { word: "BOOLEAN", hint: "True or False" },
            { word: "INTEGER", hint: "Whole number" },
            { word: "STRING", hint: "Text data type" },
            { word: "OBJECT", hint: "Key-value pairs" },
            { word: "LOOP", hint: "Repeats code" },
            { word: "CONDITION", hint: "If/else statement" },
            { word: "DEBUG", hint: "Fix errors in code" },
            { word: "COMPILE", hint: "Convert code to machine language" },
            { word: "SYNTAX", hint: "Grammar of code" },
            { word: "BROWSER", hint: "Chrome, Firefox, Safari" },
            { word: "SERVER", hint: "Responds to requests" },
            { word: "DATABASE", hint: "Stores structured data" },
            { word: "NETWORK", hint: "Connected computers" },
            { word: "PIXEL", hint: "Smallest unit of an image" },
            { word: "CANVAS", hint: "HTML drawing element" },
            { word: "ELEMENT", hint: "HTML tag" },
            { word: "ATTRIBUTE", hint: "Property of HTML tag" },
            { word: "EVENT", hint: "User action like click" },
            { word: "PROMISE", hint: "Async operation result" },
            { word: "CALLBACK", hint: "Function passed as argument" },
            { word: "INTERFACE", hint: "Defines object structure" },
            { word: "CLASS", hint: "Blueprint for objects" },
            { word: "METHOD", hint: "Function in a class" },
            { word: "PARAMETER", hint: "Input to function" },
        ];

        let currentWord = null;
        let scrambledWord = "";
        let score = 0;
        let streak = 0;
        let bestStreak = 0;
        let hintUsed = false;
        let usedWords = new Set();

        function init() {
            loadBestScore();
            newWord();
            setupInput();
        }

        function loadBestScore() {
            const saved = localStorage.getItem('wordScrambleBest');
            if (saved) {
                bestStreak = parseInt(saved);
                document.getElementById('best').textContent = bestStreak;
            }
        }

        function saveBestScore() {
            if (streak > bestStreak) {
                bestStreak = streak;
                localStorage.setItem('wordScrambleBest', bestStreak);
                document.getElementById('best').textContent = bestStreak;
            }
        }

        function setupInput() {
            const input = document.getElementById('guessInput');
            input.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    checkGuess();
                }
            });

            // Auto-uppercase
            input.addEventListener('input', (e) => {
                e.target.value = e.target.value.toUpperCase();
            });
        }

        function scramble(word) {
            const arr = word.split('');
            for (let i = arr.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [arr[i], arr[j]] = [arr[j], arr[i]];
            }
            const scrambled = arr.join('');

            // Make sure it's different from original
            if (scrambled === word) {
                return scramble(word);
            }

            return scrambled;
        }

        function newWord() {
            // Reset if all words used
            if (usedWords.size >= words.length) {
                usedWords.clear();
            }

            // Get unused word
            let wordObj;
            do {
                wordObj = words[Math.floor(Math.random() * words.length)];
            } while (usedWords.has(wordObj.word));

            usedWords.add(wordObj.word);
            currentWord = wordObj;
            scrambledWord = scramble(wordObj.word);

            document.getElementById('scrambledWord').textContent = scrambledWord;
            document.getElementById('guessInput').value = '';
            document.getElementById('message').className = 'message';
            document.getElementById('message').textContent = '';
            document.getElementById('hintText').textContent = '';
            hintUsed = false;

            document.getElementById('guessInput').focus();
        }

        function checkGuess() {
            const guess = document.getElementById('guessInput').value.toUpperCase().trim();
            const messageEl = document.getElementById('message');

            if (!guess) {
                return;
            }

            if (guess === currentWord.word) {
                // Correct!
                streak++;
                const points = hintUsed ? 2 : 3;
                score += points;

                messageEl.className = 'message correct';
                messageEl.textContent = `‚úì Correct! +${points} points`;

                saveBestScore();
                updateStats();

                setTimeout(() => {
                    newWord();
                }, 1500);
            } else {
                // Incorrect
                streak = 0;
                messageEl.className = 'message incorrect';
                messageEl.textContent = '‚úó Try again!';
                updateStats();

                document.getElementById('guessInput').value = '';
                document.getElementById('guessInput').focus();
            }
        }

        function skipWord() {
            streak = 0;
            score = Math.max(0, score - 2);
            updateStats();
            newWord();
        }

        function showHint() {
            if (!hintUsed) {
                hintUsed = true;
                score = Math.max(0, score - 1);
                updateStats();

                const hintText = document.getElementById('hintText');
                hintText.textContent = `üí° Hint: ${currentWord.hint}`;
            }
        }

        function newGame() {
            if (confirm('Start new game? Score will be reset.')) {
                score = 0;
                streak = 0;
                usedWords.clear();
                updateStats();
                newWord();
            }
        }

        function updateStats() {
            document.getElementById('score').textContent = score;
            document.getElementById('streak').textContent = streak;
            document.getElementById('best').textContent = bestStreak;
        }

        init();
    </script>
</body>
</html>
