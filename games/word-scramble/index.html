<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Word Scramble - Mira's Games</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            font-family: 'Arial', sans-serif;
            padding: 20px;
        }

        .game-container {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
            max-width: 500px;
            width: 100%;
            text-align: center;
        }

        h1 {
            color: #333;
            margin-bottom: 10px;
            font-size: 28px;
        }

        .subtitle {
            color: #666;
            margin-bottom: 20px;
            font-size: 14px;
        }

        .stats {
            display: flex;
            justify-content: space-around;
            margin-bottom: 25px;
            gap: 15px;
        }

        .stat {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 15px;
            border-radius: 15px;
            flex: 1;
        }

        .stat-label {
            font-size: 12px;
            opacity: 0.9;
        }

        .stat-value {
            font-size: 24px;
            font-weight: bold;
            margin-top: 5px;
        }

        .word-display {
            background: #f0f0f0;
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 25px;
        }

        .scrambled-word {
            font-size: 32px;
            font-weight: bold;
            color: #333;
            letter-spacing: 8px;
            margin-bottom: 10px;
            word-break: break-all;
        }

        .hint {
            color: #666;
            font-size: 14px;
            font-style: italic;
        }

        .input-section {
            margin-bottom: 20px;
        }

        #answer {
            width: 100%;
            padding: 15px;
            font-size: 20px;
            border: 2px solid #ddd;
            border-radius: 10px;
            text-align: center;
            letter-spacing: 2px;
            text-transform: uppercase;
        }

        #answer:focus {
            outline: none;
            border-color: #667eea;
        }

        .button-group {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        button {
            flex: 1;
            padding: 15px;
            font-size: 16px;
            font-weight: bold;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .submit-btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }

        .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .skip-btn {
            background: #e0e0e0;
            color: #333;
        }

        .skip-btn:hover {
            background: #d0d0d0;
        }

        .message {
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            font-weight: bold;
            display: none;
        }

        .message.correct {
            background: #d4edda;
            color: #155724;
            display: block;
        }

        .message.wrong {
            background: #f8d7da;
            color: #721c24;
            display: block;
        }

        .fullscreen-btn {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.3);
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 14px;
            z-index: 100;
            backdrop-filter: blur(10px);
            transition: all 0.3s;
        }

        .fullscreen-btn:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        @media (max-width: 768px) {
            .game-container {
                padding: 20px;
            }

            h1 {
                font-size: 24px;
            }

            .scrambled-word {
                font-size: 24px;
                letter-spacing: 4px;
            }

            #answer {
                font-size: 18px;
            }
        }

        @media (max-width: 480px) {
            .stats {
                flex-direction: column;
            }

            .button-group {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <button class="fullscreen-btn" onclick="toggleFullscreen()">ÂÖ®ÁîªÈù¢Ë°®Á§∫</button>

    <div class="game-container">
        <h1>üî§ Word Scramble</h1>
        <p class="subtitle">„Éê„É©„Éê„É©„ÅÆÊñáÂ≠ó„Çí‰∏¶„ÅπÊõø„Åà„Å¶ÂçòË™û„Çí‰Ωú„Çç„ÅÜÔºÅ</p>

        <div class="stats">
            <div class="stat">
                <div class="stat-label">„Çπ„Ç≥„Ç¢</div>
                <div class="stat-value" id="score">0</div>
            </div>
            <div class="stat">
                <div class="stat-label">ÊÆã„ÇäÊôÇÈñì</div>
                <div class="stat-value" id="timer">60</div>
            </div>
            <div class="stat">
                <div class="stat-label">Ê≠£Ëß£Êï∞</div>
                <div class="stat-value" id="correct">0</div>
            </div>
        </div>

        <div class="word-display">
            <div class="scrambled-word" id="scrambledWord">LOADING...</div>
            <div class="hint" id="hint">„Éí„É≥„Éà: <span id="hintText">-</span></div>
        </div>

        <div class="input-section">
            <input type="text" id="answer" placeholder="Á≠î„Åà„ÇíÂÖ•Âäõ..." autocomplete="off">
        </div>

        <div class="button-group">
            <button class="submit-btn" onclick="submitAnswer()">ÈÄÅ‰ø°</button>
            <button class="skip-btn" onclick="skipWord()">„Çπ„Ç≠„ÉÉ„Éó</button>
        </div>

        <div class="message" id="message"></div>
    </div>

    <script>
        // ÂçòË™û„É™„Çπ„ÉàÔºàÊó•Êú¨Ë™û„ÅÆ„Å≤„Çâ„Åå„Å™ÂçòË™ûÔºâ
        const words = [
            { word: '„Åï„Åè„Çâ', hint: 'Êò•„ÅÆËä±' },
            { word: '„ÅÜ„Åø', hint: 'Ê∞¥„ÅåÂ∫É„Åå„Å£„Å¶„ÅÑ„ÇãÂ†¥ÊâÄ' },
            { word: '„ÇÑ„Åæ', hint: 'È´ò„ÅÑÂú∞ÂΩ¢' },
            { word: '„Åü„ÅÑ„Çà„ÅÜ', hint: 'Â§™ÈôΩÁ≥ª„ÅÆ‰∏≠ÂøÉ' },
            { word: '„Å§„Åç', hint: 'Â§ú„Å´Ëºù„ÅèÂ§©‰Ωì' },
            { word: '„Åª„Åó', hint: 'Â§úÁ©∫„Å´Ëºù„ÅèÁÇπ' },
            { word: '„Åè„ÇÇ', hint: 'Á©∫„Å´ÊµÆ„Åã„Å∂ÁôΩ„ÅÑ„ÇÇ„ÅÆ' },
            { word: '„ÅÇ„ÇÅ', hint: 'Á©∫„Åã„ÇâÈôç„Å£„Å¶„Åè„ÇãÊ∞¥' },
            { word: '„Åã„Åú', hint: 'Á©∫Ê∞ó„ÅÆÊµÅ„Çå' },
            { word: '„ÇÜ„Åç', hint: 'ÂÜ¨„Å´Èôç„Å£„Å¶„Åè„ÇãÁôΩ„ÅÑ„ÇÇ„ÅÆ' },
            { word: '„Å´„Åò', hint: 'Èõ®‰∏ä„Åå„Çä„Å´Áèæ„Çå„Çã‰∏ÉËâ≤„ÅÆ„Ç¢„Éº„ÉÅ' },
            { word: '„Åã„Åå„Åø', hint: 'Ëá™ÂàÜ„ÅÆÈ°î„ÅåÊò†„Çã„ÇÇ„ÅÆ' },
            { word: '„Åª„Çì„Å†„Å™', hint: 'Êú¨„ÇíÁΩÆ„ÅèÂÆ∂ÂÖ∑' },
            { word: '„Å®„Åë„ÅÑ', hint: 'ÊôÇÈñì„ÇíÁü•„ÇãÈÅìÂÖ∑' },
            { word: '„Åß„Çì„Çè', hint: 'ÈÅ†„Åè„ÅÆ‰∫∫„Å®Ë©±„ÅôÈÅìÂÖ∑' },
            { word: '„Å¶„Çå„Å≥', hint: 'Êò†ÂÉè„ÇíË¶ã„ÇãÂÆ∂Èõª' },
            { word: '„Çâ„Åò„Åä', hint: 'Èü≥Â£∞„ÇíËÅû„ÅèÂÆ∂Èõª' },
            { word: '„Åã„Åï', hint: 'Èõ®„ÅÆÊó•„Å´‰Ωø„ÅÜ„ÇÇ„ÅÆ' },
            { word: '„Åè„Å§', hint: 'Ë∂≥„Å´Â±•„Åè„ÇÇ„ÅÆ' },
            { word: '„Åº„ÅÜ„Åó', hint: 'È†≠„Å´Ë¢´„Çã„ÇÇ„ÅÆ' },
            { word: '„ÇÅ„Åå„Å≠', hint: 'ÁõÆ„Å´„Åã„Åë„Çã„ÇÇ„ÅÆ' },
            { word: '„Å®„Çä', hint: 'Á©∫„ÇíÈ£õ„Å∂ÂãïÁâ©' },
            { word: '„ÅÑ„Å¨', hint: '‰∫∫Èñì„ÅÆÂèã„Å´„Å™„ÇãÂãïÁâ©' },
            { word: '„Å≠„Åì', hint: '„Éã„É£„Éº„Å®È≥¥„ÅèÂãïÁâ©' },
            { word: '„Åï„Åã„Å™', hint: 'Ê∞¥„ÅÆ‰∏≠„Å´‰Ωè„ÇÄÂãïÁâ©' },
            { word: '„ÇÄ„Åó', hint: 'Â∞è„Åï„Å™Áîü„ÅçÁâ©' },
            { word: '„ÅØ„Å™', hint: 'Ê§çÁâ©„ÅÆÁæé„Åó„ÅÑÈÉ®ÂàÜ' },
            { word: '„Åç', hint: 'Ê§çÁâ©„ÅÆÊú®„ÅÆÈÉ®ÂàÜ' },
            { word: '„Åè„Åï', hint: 'Ê§çÁâ©„ÅÆËçâ„ÅÆÈÉ®ÂàÜ' },
            { word: '„ÇÑ„Åï„ÅÑ', hint: 'È£ü„Åπ„Çâ„Çå„ÇãÊ§çÁâ©' },
            { word: '„Åè„Å†„ÇÇ„ÅÆ', hint: 'Áîò„Åè„Å¶È£ü„Åπ„Çâ„Çå„ÇãÊ§çÁâ©„ÅÆÂÆü' },
            { word: '„Åü„Åæ„Åî', hint: 'È≥•„ÅåÁîü„ÇÄ„ÇÇ„ÅÆ' },
            { word: '„Å°„Å°', hint: '„ÅäÁà∂„Åï„Çì' },
            { word: '„ÅØ„ÅØ', hint: '„ÅäÊØç„Åï„Çì' },
            { word: '„ÅÇ„Å´', hint: 'ÂÖÑ' },
            { word: '„ÅÇ„Å≠', hint: 'Âßâ' }
        ];

        let currentWord = null;
        let score = 0;
        let correctCount = 0;
        let timeLeft = 60;
        let timerInterval = null;
        let usedWords = [];

        // DOMË¶ÅÁ¥†
        const scrambledWordEl = document.getElementById('scrambledWord');
        const hintTextEl = document.getElementById('hintText');
        const answerInput = document.getElementById('answer');
        const scoreEl = document.getElementById('score');
        const timerEl = document.getElementById('timer');
        const correctEl = document.getElementById('correct');
        const messageEl = document.getElementById('message');

        // ÊñáÂ≠óÂàó„Çí„Ç∑„É£„ÉÉ„Éï„É´
        function shuffleString(str) {
            const arr = str.split('');
            for (let i = arr.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [arr[i], arr[j]] = [arr[j], arr[i]];
            }
            return arr.join('');
        }

        // Êñ∞„Åó„ÅÑÂçòË™û„ÇíÂèñÂæó
        function getNewWord() {
            // ‰Ωø„Çè„Çå„Å¶„ÅÑ„Å™„ÅÑÂçòË™û„ÇíÂèñÂæó
            const availableWords = words.filter(w => !usedWords.includes(w.word));

            if (availableWords.length === 0) {
                // ÂÖ®„Å¶‰Ωø„Å£„Åü„Çâ„É™„Çª„ÉÉ„Éà
                usedWords = [];
                return words[Math.floor(Math.random() * words.length)];
            }

            return availableWords[Math.floor(Math.random() * availableWords.length)];
        }

        // Êñ∞„Åó„ÅÑÂïèÈ°å„ÇíË°®Á§∫
        function newWord() {
            currentWord = getNewWord();
            usedWords.push(currentWord.word);

            // „Ç∑„É£„ÉÉ„Éï„É´„Åó„ÅüÂçòË™û„ÇíË°®Á§∫ÔºàÂÖÉ„ÅÆÂçòË™û„Å®Âêå„Åò„Å´„Å™„Çâ„Å™„ÅÑ„Çà„ÅÜ„Å´Ôºâ
            let scrambled = shuffleString(currentWord.word);
            while (scrambled === currentWord.word) {
                scrambled = shuffleString(currentWord.word);
            }

            scrambledWordEl.textContent = scrambled;
            hintTextEl.textContent = currentWord.hint;
            answerInput.value = '';
            answerInput.focus();

            // „É°„ÉÉ„Çª„Éº„Ç∏„Çí„ÇØ„É™„Ç¢
            messageEl.className = 'message';
            messageEl.textContent = '';
        }

        // Á≠î„Åà„ÇíÈÄÅ‰ø°
        function submitAnswer() {
            const answer = answerInput.value.trim().toLowerCase();

            if (!answer) {
                showMessage('Á≠î„Åà„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑÔºÅ', 'wrong');
                return;
            }

            if (answer === currentWord.word) {
                // Ê≠£Ëß£
                correctCount++;
                correctEl.textContent = correctCount;

                // ÊÆã„ÇäÊôÇÈñì„Å´Âøú„Åò„Å¶„Çπ„Ç≥„Ç¢Ë®àÁÆó
                const timeBonus = Math.floor(timeLeft / 10);
                const wordBonus = currentWord.word.length * 10;
                const points = wordBonus + timeBonus;
                score += points;
                scoreEl.textContent = score;

                // Ê≠£Ëß£„ÅÆ„É°„ÉÉ„Çª„Éº„Ç∏
                showMessage(`üéâ Ê≠£Ëß£ÔºÅ +${points}ÁÇπ`, 'correct');

                // Ê¨°„ÅÆÂçòË™û„Å∏
                setTimeout(() => {
                    newWord();
                }, 1000);
            } else {
                // ‰∏çÊ≠£Ëß£
                showMessage('‚ùå ÈÅï„ÅÑ„Åæ„ÅôÔºÅ„ÇÇ„ÅÜ‰∏ÄÂ∫¶ËÄÉ„Åà„Å¶„Åø„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ', 'wrong');
                answerInput.value = '';
                answerInput.focus();
            }
        }

        // „Çπ„Ç≠„ÉÉ„Éó
        function skipWord() {
            score = Math.max(0, score - 5);
            scoreEl.textContent = score;
            showMessage('‚è≠Ô∏è „Çπ„Ç≠„ÉÉ„ÉóÔºÅ -5ÁÇπ', 'wrong');
            setTimeout(() => {
                newWord();
            }, 500);
        }

        // „É°„ÉÉ„Çª„Éº„Ç∏„ÇíË°®Á§∫
        function showMessage(text, type) {
            messageEl.textContent = text;
            messageEl.className = `message ${type}`;
        }

        // „Çø„Ç§„Éû„Éº„ÇíÈñãÂßã
        function startTimer() {
            timerInterval = setInterval(() => {
                timeLeft--;
                timerEl.textContent = timeLeft;

                if (timeLeft <= 10) {
                    timerEl.style.color = '#ff4444';
                }

                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    endGame();
                }
            }, 1000);
        }

        // „Ç≤„Éº„É†ÁµÇ‰∫Ü
        function endGame() {
            showMessage(
                `‚è∞ „Çø„Ç§„É†„Ç¢„ÉÉ„ÉóÔºÅ\nÊúÄÁµÇ„Çπ„Ç≥„Ç¢: ${score}ÁÇπ\nÊ≠£Ëß£Êï∞: ${correctCount}Âïè`,
                'correct'
            );

            // „É™„Çπ„Çø„Éº„Éà„Éú„Çø„É≥„ÇíË°®Á§∫
            setTimeout(() => {
                if (confirm('„ÇÇ„ÅÜ‰∏ÄÂ∫¶„Éó„É¨„Ç§„Åó„Åæ„Åô„ÅãÔºü')) {
                    restartGame();
                }
            }, 2000);
        }

        // „Ç≤„Éº„É†„Çí„É™„Çπ„Çø„Éº„Éà
        function restartGame() {
            score = 0;
            correctCount = 0;
            timeLeft = 60;
            usedWords = [];

            scoreEl.textContent = score;
            correctEl.textContent = correctCount;
            timerEl.textContent = timeLeft;
            timerEl.style.color = '';

            startTimer();
            newWord();
        }

        // ÂÖ®ÁîªÈù¢Ë°®Á§∫
        function toggleFullscreen() {
            if (!document.fullscreenElement) {
                document.documentElement.requestFullscreen();
            } else {
                document.exitFullscreen();
            }
        }

        // Enter„Ç≠„Éº„ÅßÈÄÅ‰ø°
        answerInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                submitAnswer();
            }
        });

        // „Ç≤„Éº„É†ÈñãÂßã
        newWord();
        startTimer();
    </script>
</body>
</html>
