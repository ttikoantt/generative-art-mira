<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Typing Rush - „Çø„Ç§„Éî„É≥„Ç∞„Ç≤„Éº„É†</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            font-family: 'Courier New', monospace;
            overflow: hidden;
        }

        .container {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 40px;
            max-width: 800px;
            width: 90%;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            text-align: center;
        }

        h1 {
            color: #667eea;
            font-size: 36px;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }

        .subtitle {
            color: #999;
            font-size: 16px;
            margin-bottom: 30px;
        }

        .stats {
            display: flex;
            justify-content: space-around;
            margin-bottom: 30px;
        }

        .stat {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px 25px;
            border-radius: 10px;
            min-width: 120px;
        }

        .stat-label {
            font-size: 12px;
            opacity: 0.8;
            margin-bottom: 5px;
        }

        .stat-value {
            font-size: 28px;
            font-weight: bold;
        }

        .word-display {
            background: #f8f9fa;
            border: 3px solid #667eea;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 20px;
            min-height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 32px;
            font-weight: bold;
            color: #333;
        }

        .word-display .typed {
            color: #10b981;
        }

        .word-display .current {
            color: #667eea;
            text-decoration: underline;
        }

        .word-display .remaining {
            color: #999;
        }

        .input-area {
            margin-bottom: 20px;
        }

        #wordInput {
            width: 100%;
            padding: 15px 20px;
            font-size: 24px;
            border: 3px solid #ddd;
            border-radius: 10px;
            font-family: 'Courier New', monospace;
            text-align: center;
            transition: all 0.3s;
        }

        #wordInput:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 20px rgba(102, 126, 234, 0.3);
        }

        .progress-bar {
            width: 100%;
            height: 10px;
            background: #e0e0e0;
            border-radius: 5px;
            overflow: hidden;
            margin-bottom: 20px;
        }

        .progress {
            height: 100%;
            background: linear-gradient(90deg, #10b981, #667eea);
            transition: width 0.3s;
        }

        .buttons {
            display: flex;
            gap: 10px;
            justify-content: center;
        }

        button {
            padding: 15px 40px;
            font-size: 18px;
            font-family: 'Courier New', monospace;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: bold;
        }

        .start-btn {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
        }

        .start-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 30px rgba(16, 185, 129, 0.4);
        }

        .fullscreen-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .fullscreen-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.4);
        }

        .game-over {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .game-over-content {
            background: white;
            padding: 50px;
            border-radius: 20px;
            text-align: center;
            animation: popIn 0.3s;
        }

        @keyframes popIn {
            from {
                transform: scale(0.8);
                opacity: 0;
            }
            to {
                transform: scale(1);
                opacity: 1;
            }
        }

        .game-over h2 {
            color: #667eea;
            font-size: 48px;
            margin-bottom: 20px;
        }

        .final-score {
            font-size: 72px;
            color: #10b981;
            font-weight: bold;
            margin: 20px 0;
        }

        .final-wpm {
            font-size: 24px;
            color: #667eea;
            margin-bottom: 30px;
        }

        .combo {
            color: #ff6b6b;
            font-size: 20px;
            font-weight: bold;
            animation: pulse 0.5s;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>‚å®Ô∏è TYPING RUSH</h1>
        <div class="subtitle">Type as fast as you can!</div>

        <div class="stats">
            <div class="stat">
                <div class="stat-label">SCORE</div>
                <div class="stat-value" id="score">0</div>
            </div>
            <div class="stat">
                <div class="stat-label">WPM</div>
                <div class="stat-value" id="wpm">0</div>
            </div>
            <div class="stat">
                <div class="stat-label">TIME</div>
                <div class="stat-value" id="timer">60</div>
            </div>
        </div>

        <div class="progress-bar">
            <div class="progress" id="progress"></div>
        </div>

        <div class="word-display" id="wordDisplay">
            Press START to begin!
        </div>

        <div class="input-area">
            <input type="text" id="wordInput" placeholder="Type here..." disabled>
        </div>

        <div class="combo" id="combo" style="display: none;"></div>

        <div class="buttons">
            <button class="start-btn" id="startBtn" onclick="startGame()">START</button>
            <button class="fullscreen-btn" onclick="toggleFullscreen()">‚õ∂ FULL</button>
        </div>
    </div>

    <div class="game-over" id="gameOver">
        <div class="game-over-content">
            <h2>TIME'S UP!</h2>
            <div>Final Score</div>
            <div class="final-score" id="finalScore">0</div>
            <div class="final-wpm" id="finalWpm">0 WPM</div>
            <button class="start-btn" onclick="restartGame()">PLAY AGAIN</button>
        </div>
    </div>

    <script>
        // ÂçòË™û„É™„Çπ„Éà
        const words = [
            'the', 'be', 'of', 'and', 'a', 'to', 'in', 'he', 'have', 'it',
            'that', 'for', 'they', 'I', 'with', 'as', 'not', 'on', 'she', 'at',
            'by', 'this', 'we', 'you', 'do', 'but', 'from', 'or', 'which', 'one',
            'would', 'all', 'will', 'there', 'say', 'who', 'make', 'when', 'can', 'more',
            'if', 'no', 'man', 'out', 'other', 'so', 'what', 'time', 'up', 'go',
            'about', 'than', 'into', 'could', 'state', 'only', 'new', 'year', 'some', 'take',
            'come', 'these', 'know', 'see', 'use', 'get', 'like', 'then', 'first', 'any',
            'work', 'now', 'may', 'such', 'give', 'over', 'think', 'most', 'even', 'find',
            'day', 'also', 'after', 'way', 'many', 'must', 'look', 'before', 'great', 'back',
            'through', 'long', 'where', 'much', 'should', 'well', 'people', 'down', 'own', 'just',
            'because', 'good', 'each', 'those', 'feel', 'seem', 'how', 'high', 'too', 'place',
            'little', 'world', 'very', 'still', 'nation', 'hand', 'old', 'life', 'tell', 'write',
            'become', 'here', 'show', 'house', 'both', 'between', 'need', 'mean', 'call', 'develop',
            'under', 'last', 'right', 'move', 'thing', 'general', 'school', 'never', 'same', 'another',
            'begin', 'while', 'number', 'part', 'turn', 'real', 'leave', 'might', 'want', 'point',
            'form', 'off', 'child', 'few', 'small', 'since', 'against', 'ask', 'late', 'home',
            'interest', 'large', 'person', 'end', 'open', 'public', 'follow', 'during', 'present',
            'without', 'again', 'hold', 'govern', 'around', 'possible', 'head', 'consider', 'word',
            'program', 'problem', 'however', 'lead', 'system', 'set', 'order', 'eye', 'plan', 'run',
            'keep', 'face', 'fact', 'group', 'play', 'stand', 'increase', 'early', 'course', 'change',
            'help', 'line'
        ];

        let currentWord = '';
        let score = 0;
        let timeLeft = 60;
        let timer = null;
        let gameStarted = false;
        let typedChars = 0;
        let combo = 0;

        const wordDisplay = document.getElementById('wordDisplay');
        const wordInput = document.getElementById('wordInput');
        const scoreEl = document.getElementById('score');
        const wpmEl = document.getElementById('wpm');
        const timerEl = document.getElementById('timer');
        const progressEl = document.getElementById('progress');
        const startBtn = document.getElementById('startBtn');
        const gameOverEl = document.getElementById('gameOver');
        const finalScoreEl = document.getElementById('finalScore');
        const finalWpmEl = document.getElementById('finalWpm');
        const comboEl = document.getElementById('combo');

        function startGame() {
            gameStarted = true;
            score = 0;
            timeLeft = 60;
            typedChars = 0;
            combo = 0;

            startBtn.disabled = true;
            wordInput.disabled = false;
            wordInput.value = '';
            wordInput.focus();

            nextWord();
            updateDisplay();

            timer = setInterval(() => {
                timeLeft--;
                updateDisplay();

                if (timeLeft <= 0) {
                    endGame();
                }
            }, 1000);
        }

        function nextWord() {
            currentWord = words[Math.floor(Math.random() * words.length)];
            renderWord();
        }

        function renderWord() {
            const inputValue = wordInput.value.toLowerCase();
            let html = '';

            for (let i = 0; i < currentWord.length; i++) {
                if (i < inputValue.length) {
                    if (inputValue[i] === currentWord[i]) {
                        html += `<span class="typed">${currentWord[i]}</span>`;
                    } else {
                        html += `<span class="current" style="color: #ff6b6b;">${currentWord[i]}</span>`;
                    }
                } else if (i === inputValue.length) {
                    html += `<span class="current">${currentWord[i]}</span>`;
                } else {
                    html += `<span class="remaining">${currentWord[i]}</span>`;
                }
            }

            wordDisplay.innerHTML = html;
        }

        function updateDisplay() {
            scoreEl.textContent = score;
            timerEl.textContent = timeLeft;

            const wpm = Math.round((typedChars / 5) / ((60 - timeLeft) / 60)) || 0;
            wpmEl.textContent = wpm;

            const progress = ((60 - timeLeft) / 60) * 100;
            progressEl.style.width = progress + '%';
        }

        wordInput.addEventListener('input', () => {
            if (!gameStarted) return;

            const inputValue = wordInput.value.toLowerCase();

            // ÂÖ•ÂäõÊñáÂ≠óÊï∞„Çí„Ç´„Ç¶„É≥„Éà
            if (inputValue.length > 0) {
                typedChars = inputValue.length;
            }

            renderWord();

            // ÂçòË™ûÂÆå‰∫Ü„ÉÅ„Çß„ÉÉ„ÇØ
            if (inputValue === currentWord) {
                combo++;
                const bonus = Math.min(combo, 10);
                score += 10 + bonus;

                // „Ç≥„É≥„ÉúË°®Á§∫
                if (combo >= 3) {
                    comboEl.textContent = `üî• COMBO x${combo}! +${bonus}`;
                    comboEl.style.display = 'block';
                }

                wordInput.value = '';
                nextWord();
                updateDisplay();
            } else if (inputValue.length >= currentWord.length) {
                // ÈñìÈÅï„Å£„ÅüÂ†¥Âêà
                combo = 0;
                comboEl.style.display = 'none';
                wordInput.value = '';
            }
        });

        function endGame() {
            gameStarted = false;
            clearInterval(timer);
            wordInput.disabled = true;
            startBtn.disabled = false;

            const wpm = Math.round((typedChars / 5) / 1) || 0;

            finalScoreEl.textContent = score;
            finalWpmEl.textContent = `${wpm} WPM`;
            gameOverEl.style.display = 'flex';
        }

        function restartGame() {
            gameOverEl.style.display = 'none';
            startGame();
        }

        function toggleFullscreen() {
            if (!document.fullscreenElement) {
                document.documentElement.requestFullscreen();
            } else {
                document.exitFullscreen();
            }
        }

        // ÂÖ•Âäõ„Éï„Ç©„Éº„Ç´„ÇπÁ∂≠ÊåÅ
        document.addEventListener('click', () => {
            if (gameStarted && !wordInput.disabled) {
                wordInput.focus();
            }
        });
    </script>
</body>
</html>
