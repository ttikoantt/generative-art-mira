<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Typing Speed Test - „Çø„Ç§„Éî„É≥„Ç∞ÈÄüÂ∫¶„ÉÜ„Çπ„Éà</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            width: 100%;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
        }

        .header h1 {
            color: #fff;
            font-size: 2.5rem;
            margin-bottom: 10px;
            background: linear-gradient(45deg, #00f5ff, #ff00ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }

        .stat-box {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .stat-label {
            color: #aaa;
            font-size: 12px;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 5px;
        }

        .stat-value {
            color: #00f5ff;
            font-size: 2rem;
            font-weight: bold;
        }

        .text-display {
            background: rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            line-height: 2;
            font-size: 1.3rem;
        }

        .char {
            color: #666;
            padding: 2px 1px;
            border-radius: 3px;
            transition: all 0.1s;
        }

        .char.current {
            background: rgba(0, 245, 255, 0.3);
            color: #00f5ff;
            border-bottom: 2px solid #00f5ff;
        }

        .char.correct {
            color: #00ff88;
        }

        .char.incorrect {
            color: #ff4444;
            background: rgba(255, 68, 68, 0.2);
        }

        .input-area {
            margin-bottom: 20px;
        }

        input[type="text"] {
            width: 100%;
            padding: 20px;
            font-size: 1.2rem;
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            color: #fff;
            outline: none;
            transition: all 0.3s;
        }

        input[type="text"]:focus {
            border-color: #00f5ff;
            box-shadow: 0 0 20px rgba(0, 245, 255, 0.2);
        }

        .buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
        }

        button {
            padding: 15px 40px;
            font-size: 1rem;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: bold;
        }

        .btn-primary {
            background: linear-gradient(45deg, #00f5ff, #0099ff);
            color: #000;
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: #fff;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(0, 245, 255, 0.3);
        }

        button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .fullscreen-btn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            padding: 12px 20px;
            background: rgba(0, 0, 0, 0.7);
            color: #fff;
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            backdrop-filter: blur(10px);
            z-index: 100;
            transition: all 0.3s;
        }

        .fullscreen-btn:hover {
            background: rgba(0, 245, 255, 0.2);
            border-color: #00f5ff;
        }

        .result {
            text-align: center;
            padding: 40px;
            background: rgba(0, 0, 0, 0.5);
            border-radius: 15px;
            margin-top: 30px;
            display: none;
        }

        .result.show {
            display: block;
        }

        .result h2 {
            color: #00f5ff;
            font-size: 2rem;
            margin-bottom: 30px;
        }

        .result-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .result-stat {
            background: rgba(255, 255, 255, 0.05);
            padding: 20px;
            border-radius: 10px;
        }

        .result-stat-label {
            color: #aaa;
            font-size: 14px;
            margin-bottom: 10px;
        }

        .result-stat-value {
            color: #fff;
            font-size: 2.5rem;
            font-weight: bold;
        }

        .result-stat-value.good {
            color: #00ff88;
        }

        .result-stat-value.average {
            color: #ffaa00;
        }

        .result-stat-value.needs-improvement {
            color: #ff4444;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.8rem;
            }

            .text-display {
                padding: 20px;
                font-size: 1rem;
            }

            .stat-value {
                font-size: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>‚å®Ô∏è Typing Speed Test</h1>
            <p style="color: #aaa;">Ë°®Á§∫„Åï„Çå„Åü„ÉÜ„Ç≠„Çπ„Éà„Çí„Åß„Åç„Çã„Å†„ÅëÈÄü„ÅèÊ≠£Á¢∫„Å´ÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ</p>
        </div>

        <div class="stats">
            <div class="stat-box">
                <div class="stat-label">WPM</div>
                <div class="stat-value" id="wpm">0</div>
            </div>
            <div class="stat-box">
                <div class="stat-label">Ê≠£Á¢∫Áéá</div>
                <div class="stat-value" id="accuracy">100%</div>
            </div>
            <div class="stat-box">
                <div class="stat-label">ÊôÇÈñì</div>
                <div class="stat-value" id="timer">0s</div>
            </div>
            <div class="stat-box">
                <div class="stat-label">ÊñáÂ≠óÊï∞</div>
                <div class="stat-value" id="chars">0/0</div>
            </div>
        </div>

        <div class="text-display" id="textDisplay"></div>

        <div class="input-area">
            <input type="text" id="inputField" placeholder="„Åì„Åì„Å´„ÉÜ„Ç≠„Çπ„Éà„ÇíÂÖ•Âäõ..." autocomplete="off" autocapitalize="off" spellcheck="false">
        </div>

        <div class="buttons">
            <button class="btn-primary" id="startBtn">ÈñãÂßã</button>
            <button class="btn-secondary" id="resetBtn">„É™„Çª„ÉÉ„Éà</button>
        </div>

        <div class="result" id="result">
            <h2>üéâ ÁµêÊûú</h2>
            <div class="result-stats">
                <div class="result-stat">
                    <div class="result-stat-label">WPM</div>
                    <div class="result-stat-value" id="finalWpm">0</div>
                </div>
                <div class="result-stat">
                    <div class="result-stat-label">Ê≠£Á¢∫Áéá</div>
                    <div class="result-stat-value" id="finalAccuracy">0%</div>
                </div>
                <div class="result-stat">
                    <div class="result-stat-label">ÊôÇÈñì</div>
                    <div class="result-stat-value" id="finalTime">0s</div>
                </div>
            </div>
            <button class="btn-primary" id="retryBtn">„ÇÇ„ÅÜ‰∏ÄÂ∫¶ÊåëÊà¶</button>
        </div>
    </div>

    <button class="fullscreen-btn" id="fullscreenBtn">ÂÖ®ÁîªÈù¢Ë°®Á§∫</button>

    <script>
        const texts = [
            "The quick brown fox jumps over the lazy dog. This sentence contains every letter of the alphabet and is often used for typing practice.",
            "Programming is the art of telling a computer what to do. It requires logical thinking, creativity, and attention to detail.",
            "The internet has revolutionized how we communicate, learn, and work. It connects people across the globe and provides instant access to information.",
            "Machine learning is a subset of artificial intelligence that enables computers to learn from data and make predictions or decisions.",
            "Web development combines HTML, CSS, and JavaScript to create interactive and visually appealing websites that users can access from anywhere.",
            "Clean code is not just about making it work. It's about writing code that is easy to read, understand, and maintain by other developers.",
            "The journey of a thousand miles begins with a single step. Every expert was once a beginner who practiced consistently.",
            "Time management is crucial for productivity. Focus on one task at a time and eliminate distractions to achieve your goals efficiently."
        ];

        let currentText = '';
        let currentIndex = 0;
        let startTime = null;
        let timerInterval = null;
        let isStarted = false;
        let isFinished = false;
        let correctChars = 0;
        let totalChars = 0;

        const textDisplay = document.getElementById('textDisplay');
        const inputField = document.getElementById('inputField');
        const startBtn = document.getElementById('startBtn');
        const resetBtn = document.getElementById('resetBtn');
        const retryBtn = document.getElementById('retryBtn');
        const resultDiv = document.getElementById('result');
        const fullscreenBtn = document.getElementById('fullscreenBtn');

        function getRandomText() {
            return texts[Math.floor(Math.random() * texts.length)];
        }

        function displayText() {
            textDisplay.innerHTML = '';
            for (let i = 0; i < currentText.length; i++) {
                const span = document.createElement('span');
                span.textContent = currentText[i];
                span.className = 'char';
                if (i === 0) span.classList.add('current');
                textDisplay.appendChild(span);
            }
        }

        function updateStats() {
            const chars = document.querySelectorAll('.char');
            let correct = 0;
            let incorrect = 0;

            chars.forEach(char => {
                if (char.classList.contains('correct')) correct++;
                if (char.classList.contains('incorrect')) incorrect++;
            });

            const totalTyped = correct + incorrect;
            const accuracy = totalTyped > 0 ? Math.round((correct / totalTyped) * 100) : 100;
            const elapsedTime = startTime ? Math.floor((Date.now() - startTime) / 1000) : 0;
            const wpm = elapsedTime > 0 ? Math.round((correct / 5) / (elapsedTime / 60)) : 0;

            document.getElementById('wpm').textContent = wpm;
            document.getElementById('accuracy').textContent = accuracy + '%';
            document.getElementById('timer').textContent = elapsedTime + 's';
            document.getElementById('chars').textContent = `${correct}/${currentText.length}`;

            return { correct, incorrect, accuracy, elapsedTime, wpm };
        }

        function checkInput() {
            const input = inputField.value;
            const chars = document.querySelectorAll('.char');

            chars.forEach((char, index) => {
                char.classList.remove('current', 'correct', 'incorrect');

                if (index < input.length) {
                    if (input[index] === currentText[index]) {
                        char.classList.add('correct');
                    } else {
                        char.classList.add('incorrect');
                    }
                } else if (index === input.length) {
                    char.classList.add('current');
                }
            });

            const stats = updateStats();

            if (input.length >= currentText.length) {
                finishGame(stats);
            }
        }

        function startGame() {
            currentText = getRandomText();
            currentIndex = 0;
            startTime = Date.now();
            isStarted = true;
            isFinished = false;
            inputField.value = '';
            inputField.disabled = false;
            inputField.focus();
            resultDiv.classList.remove('show');

            displayText();
            startBtn.disabled = true;

            timerInterval = setInterval(updateStats, 100);
        }

        function finishGame(stats) {
            isFinished = true;
            isStarted = false;
            inputField.disabled = true;
            startBtn.disabled = false;
            clearInterval(timerInterval);

            document.getElementById('finalWpm').textContent = stats.wpm;
            document.getElementById('finalWpm').className = 'result-stat-value ' + getWpmClass(stats.wpm);
            document.getElementById('finalAccuracy').textContent = stats.accuracy + '%';
            document.getElementById('finalAccuracy').className = 'result-stat-value ' + getAccuracyClass(stats.accuracy);
            document.getElementById('finalTime').textContent = stats.elapsedTime + 's';

            resultDiv.classList.add('show');
        }

        function getWpmClass(wpm) {
            if (wpm >= 60) return 'good';
            if (wpm >= 40) return 'average';
            return 'needs-improvement';
        }

        function getAccuracyClass(accuracy) {
            if (accuracy >= 95) return 'good';
            if (accuracy >= 85) return 'average';
            return 'needs-improvement';
        }

        function resetGame() {
            clearInterval(timerInterval);
            isStarted = false;
            isFinished = false;
            inputField.value = '';
            inputField.disabled = false;
            currentText = '';
            textDisplay.innerHTML = '<span class="char">„ÄåÈñãÂßã„Äç„Éú„Çø„É≥„Çí„ÇØ„É™„ÉÉ„ÇØ„Åó„Å¶„Çπ„Çø„Éº„ÉàÔºÅ</span>';
            document.getElementById('wpm').textContent = '0';
            document.getElementById('accuracy').textContent = '100%';
            document.getElementById('timer').textContent = '0s';
            document.getElementById('chars').textContent = '0/0';
            resultDiv.classList.remove('show');
            startBtn.disabled = false;
        }

        startBtn.addEventListener('click', startGame);
        resetBtn.addEventListener('click', resetGame);
        retryBtn.addEventListener('click', startGame);

        inputField.addEventListener('input', () => {
            if (!isStarted) return;
            checkInput();
        });

        inputField.addEventListener('keydown', (e) => {
            if (e.key === 'Tab') {
                e.preventDefault();
                if (!isStarted && !isFinished) {
                    startGame();
                }
            }
        });

        fullscreenBtn.addEventListener('click', () => {
            if (!document.fullscreenElement) {
                document.documentElement.requestFullscreen();
            } else {
                document.exitFullscreen();
            }
        });

        // Initialize
        resetGame();
    </script>
</body>
</html>
